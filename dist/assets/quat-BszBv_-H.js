import{Ey as e,Nb as t,Pb as n,at as r,c_ as i,ct as a,dl as o,dt as s,ft as c,gl as l,gt as u,mt as d,nt as f,ot as p,pt as m,rl as h,rt as g,u_ as _,ut as v,vl as y}from"./index-CZ4oMP1N.js";import{t as b}from"./quatf64-BJJPhW0N.js";function x(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function S(e,t,n){n*=.5;let r=Math.sin(n);return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=Math.cos(n),e}function C(e,n){let r=2*Math.acos(n[3]),i=Math.sin(r/2);return i>t()?(e[0]=n[0]/i,e[1]=n[1]/i,e[2]=n[2]/i):(e[0]=1,e[1]=0,e[2]=0),r}function w(e,t,n){let r=t[0],i=t[1],a=t[2],o=t[3],s=n[0],c=n[1],l=n[2],u=n[3];return e[0]=r*u+o*s+i*l-a*c,e[1]=i*u+o*c+a*s-r*l,e[2]=a*u+o*l+r*c-i*s,e[3]=o*u-r*s-i*c-a*l,e}function T(e,t,n){n*=.5;let r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+o*s,e[1]=i*c+a*s,e[2]=a*c-i*s,e[3]=o*c-r*s,e}function E(e,t,n){n*=.5;let r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c-a*s,e[1]=i*c+o*s,e[2]=a*c+r*s,e[3]=o*c-i*s,e}function D(e,t,n){n*=.5;let r=t[0],i=t[1],a=t[2],o=t[3],s=Math.sin(n),c=Math.cos(n);return e[0]=r*c+i*s,e[1]=i*c-r*s,e[2]=a*c+o*s,e[3]=o*c-a*s,e}function ee(e,t){let n=t[0],r=t[1],i=t[2];return e[0]=n,e[1]=r,e[2]=i,e[3]=Math.sqrt(Math.abs(1-n*n-r*r-i*i)),e}function O(e,n,r,i){let a=n[0],o=n[1],s=n[2],c=n[3],l,u,d,f,p,m=r[0],h=r[1],g=r[2],_=r[3];return u=a*m+o*h+s*g+c*_,u<0&&(u=-u,m=-m,h=-h,g=-g,_=-_),1-u>t()?(l=Math.acos(u),d=Math.sin(l),f=Math.sin((1-i)*l)/d,p=Math.sin(i*l)/d):(f=1-i,p=i),e[0]=f*a+p*m,e[1]=f*o+p*h,e[2]=f*s+p*g,e[3]=f*c+p*_,e}function k(e){let t=n,r=t(),i=t(),a=t(),o=Math.sqrt(1-r),s=Math.sqrt(r);return e[0]=o*Math.sin(2*Math.PI*i),e[1]=o*Math.cos(2*Math.PI*i),e[2]=s*Math.sin(2*Math.PI*a),e[3]=s*Math.cos(2*Math.PI*a),e}function A(e,t){let n=t[0],r=t[1],i=t[2],a=t[3],o=n*n+r*r+i*i+a*a,s=o?1/o:0;return e[0]=-n*s,e[1]=-r*s,e[2]=-i*s,e[3]=a*s,e}function j(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function M(e,t){let n=t[0]+t[4]+t[8],r;if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{let n=0;t[4]>t[0]&&(n=1),t[8]>t[3*n+n]&&(n=2);let i=(n+1)%3,a=(n+2)%3;r=Math.sqrt(t[3*n+n]-t[3*i+i]-t[3*a+a]+1),e[n]=.5*r,r=.5/r,e[3]=(t[3*i+a]-t[3*a+i])*r,e[i]=(t[3*i+n]+t[3*n+i])*r,e[a]=(t[3*a+n]+t[3*n+a])*r}return e}function N(e,t,n,r){let i=.5*Math.PI/180;t*=i,n*=i,r*=i;let a=Math.sin(t),o=Math.cos(t),s=Math.sin(n),c=Math.cos(n),l=Math.sin(r),u=Math.cos(r);return e[0]=a*c*u-o*s*l,e[1]=o*s*u+a*c*l,e[2]=o*c*l-a*s*u,e[3]=o*c*u+a*s*l,e}function P(e){return`quat(`+e[0]+`, `+e[1]+`, `+e[2]+`, `+e[3]+`)`}var te=p,F=d,I=s,L=w,R=v,z=a,B=r,V=m,H=V,U=c,W=U,G=u,K=f,q=g;function J(e,t,n){let r=o(t,n);return r<-.999999?(y(Y,X,t),l(Y)<1e-6&&y(Y,Z,t),h(Y,Y),S(e,Y,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(y(Y,t,n),e[0]=Y[0],e[1]=Y[1],e[2]=Y[2],e[3]=1+r,G(e,e))}var Y=i(),X=_(1,0,0),Z=_(0,1,0);function ne(e,t,n,r,i,a){return O(Q,t,i,a),O($,n,r,a),O(e,Q,$,2*a*(1-a)),e}var Q=b(),$=b();function re(e,t,n,r){let i=ie;return i[0]=n[0],i[3]=n[1],i[6]=n[2],i[1]=r[0],i[4]=r[1],i[7]=r[2],i[2]=-t[0],i[5]=-t[1],i[8]=-t[2],G(e,M(e,i))}var ie=e();Object.freeze(Object.defineProperty({__proto__:null,add:I,calculateW:ee,conjugate:j,copy:te,dot:z,equals:q,exactEquals:K,fromEuler:N,fromMat3:M,getAxisAngle:C,identity:x,invert:A,len:H,length:V,lerp:B,mul:L,multiply:w,normalize:G,random:k,rotateX:T,rotateY:E,rotateZ:D,rotationTo:J,scale:R,set:F,setAxes:re,setAxisAngle:S,slerp:O,sqlerp:ne,sqrLen:W,squaredLength:U,str:P},Symbol.toStringTag,{value:`Module`}));export{N as a,C as c,J as i,w as l,K as n,F as o,j as r,S as s,A as t};