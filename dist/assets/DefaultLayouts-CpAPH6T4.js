const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ImageMaterial.glsl-BPsHBZUt.js","assets/index-C-FXvluM.js","assets/index-NV7R-tPD.css","assets/automaticLengthMeasurementUtils-DtYsKEhL.js","assets/MeshTransform-DerVYA28.js","assets/axisAngleDegrees-B_k9QdRo.js","assets/meshVertexSpaceUtils-6Oit8r3Z.js","assets/MeshLocalVertexSpace-cD48CuiV.js","assets/geodesicLengthMeasurementUtils-aKK2JX7V.js","assets/geometryEngine-TWT-eAO7.js","assets/geometryEngineBase-yFIvKOkM.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/hydrated-9-RWfdv1.js","assets/TextOverlayItem-CI9KU8jv.js","assets/OverlayCompositing.glsl-BdWJ9dYd.js","assets/Octree-CXz4dNsB.js","assets/Util-B1cu74ll.js","assets/line-B3A6Shbe.js","assets/Geometry-BTp0yhOg.js","assets/NormalAttribute.glsl-BzcwcK9j.js","assets/BindType-BmZEZMMh.js","assets/renderState-CfpGbofm.js","assets/basicInterfaces-CZwQPxTp.js","assets/requestImageUtils-CswTYnN2.js","assets/Indices-JUNGgdWS.js","assets/triangle-C57UtqE7.js","assets/triangulationUtils-DYBtHM4K.js","assets/earcut-Lltz9D9k.js","assets/deduplicate-CHguaZER.js","assets/RibbonLine.glsl-BRlvmZSr.js","assets/GeometryUtil-BqnSbvZN.js","assets/doublePrecisionUtils-B0owpBza.js","assets/vec3f32-nZdmKIgz.js","assets/InterleavedLayout-FN5nlSrs.js","assets/BufferView-Dk0MoByh.js","assets/types-D0PSWh4d.js","assets/hydratedFeatures-DXGiFJc-.js","assets/floatRGBA-omvZ6LNc.js","assets/VertexArrayObject-km1At7bV.js","assets/NestedMap-GuqgquCN.js","assets/glUtil-DIb2YQRb.js","assets/VertexElementDescriptor-BOD-G50G.js","assets/VertexArrayObject-DcaNvwOy.js","assets/BufferObject-DuXoHzsa.js","assets/HUDMaterial.glsl-wE3zFfZp.js","assets/graphicUtils-9SiY0FaR.js","assets/DefaultBufferWriter-BeC23u2e.js","assets/SnappingContext-B18hoYec.js","assets/PointSnappingHint-AK6eT6XJ.js","assets/editPlaneUtils-DnNfWwtr.js","assets/helpMessageUtils3d-D44teqP4.js","assets/SelectedVertexTooltipInfo-DtoIbX-j.js","assets/TranslateTooltipInfo-x20Np7PO.js","assets/persistable-RFKVf4Z5.js","assets/multiOriginJSONSupportUtils-C0wm8_Yw.js","assets/resourceExtension-UaJY_0EB.js","assets/ExtentScaleTooltipInfo-Dd_ABieO.js","assets/GraphicManipulator-Cc2xYGId.js"])))=>i.map(i=>d[i]);
import{nz as E,e2 as o,i2 as g,_ as D,nA as S,X as a,nB as b,nC as N}from"./index-C-FXvluM.js";import{H as u}from"./InterleavedLayout-FN5nlSrs.js";import{n as d,l as v,C as T,h as R}from"./NormalAttribute.glsl-BzcwcK9j.js";import{g as w,d as F,l as L,h as x,P as A,i as U,e as M,j as V,k as q,n as B,m as H,q as C,r as j,u as z,v as W,x as J,y as G,z as Q,A as Y,N as k,B as i,D as K,E as X,F as Z,G as h,H as ee,I as te,J as se,K as re}from"./Geometry-BTp0yhOg.js";import{e as O}from"./basicInterfaces-CZwQPxTp.js";import{p as ae,a as ie,e as oe,r as ne}from"./DefaultBufferWriter-BeC23u2e.js";import{B as le,f as pe,g as ce}from"./renderState-CfpGbofm.js";class he extends E{intersect(e,s,n,l,c,p){return ae(e,n,l,c,void 0,p)}}function ue(t){const e=new w,{vertex:s,fragment:n,attributes:l,varyings:c}=e;F(s,t),e.include(ie,t),e.include(oe,t),e.include(L,t),e.include(x,t),e.include(A,t),e.include(U,t),l.add(o.POSITION,"vec3"),t.vvColor&&l.add(o.COLORFEATUREATTRIBUTE,"float"),c.add("vColor","vec4"),c.add("vpos","vec3");const p=t.terrainDepthTest&&t.output===d.Color;return p&&c.add("depth","float"),s.uniforms.add(new M("eColor",f=>f.color)),s.main.add(g`
      vpos = position;
      forwardNormalizedVertexColor();
      forwardObjectAndLayerIdColor();

      ${t.hasVertexColors?"vColor *= eColor;":t.vvColor?"vColor = eColor * interpolateVVColor(colorFeatureAttribute);":"vColor = eColor;"}
      ${p?"depth = (view * vec4(vpos, 1.0)).z;":""}
      gl_Position = transformPosition(proj, view, vpos);`),e.include(A,t),p&&e.include(V,t),n.include(q),n.main.add(g`
    discardBySlice(vpos);
    ${p?"terrainDepthTest(depth);":""}
    vec4 fColor = vColor;
    outputColorHighlightOID(fColor, vpos);`),e}const de=Object.freeze(Object.defineProperty({__proto__:null,build:ue},Symbol.toStringTag,{value:"Module"}));class fe extends B{constructor(e,s,n){super(e,s,new H(de,()=>D(()=>import("./ImageMaterial.glsl-BPsHBZUt.js").then(l=>l.C),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57]))),n)}_createPipeline(e,s){const{oitPass:n,output:l,transparent:c,cullFace:p,draped:f,hasOccludees:_,polygonOffset:$,enableOffset:I}=e,m=n===C.NONE,y=n===C.FrontFace;return le({blending:l===d.Color&&c?j(n):null,culling:pe(p),depthTest:f?null:{func:z(n)},depthWrite:W(e),drawBuffers:l===d.Depth?{buffers:[S.NONE]}:J(n,l),colorWrite:ce,stencilWrite:_?G:null,stencilTest:_?s?Q:Y:null,polygonOffset:m||y?$?ve:null:k(I)})}initializePipeline(e){return this._occludeePipelineState=this._createPipeline(e,!0),this._createPipeline(e,!1)}getPipeline(e){return e?this._occludeePipelineState:super.getPipeline()}}const ve={factor:1,units:1};let r=class extends K{constructor(){super(...arguments),this.cullFace=O.None,this.hasSlicePlane=!1,this.hasVertexColors=!1,this.transparent=!1,this.discardInvisibleFragments=!1,this.polygonOffset=!1,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.objectAndLayerIdColorInstanced=!1,this.vvColor=!1,this.draped=!1,this.textureCoordinateType=X.None,this.emissionSource=Z.None,this.occlusionPass=!1,this.hasVvInstancing=!0,this.vvSize=!1,this.vvOpacity=!1}};a([i({count:O.COUNT})],r.prototype,"cullFace",void 0),a([i()],r.prototype,"hasSlicePlane",void 0),a([i()],r.prototype,"hasVertexColors",void 0),a([i()],r.prototype,"transparent",void 0),a([i()],r.prototype,"discardInvisibleFragments",void 0),a([i()],r.prototype,"polygonOffset",void 0),a([i()],r.prototype,"enableOffset",void 0),a([i()],r.prototype,"writeDepth",void 0),a([i()],r.prototype,"hasOccludees",void 0),a([i()],r.prototype,"terrainDepthTest",void 0),a([i()],r.prototype,"cullAboveTerrain",void 0),a([i()],r.prototype,"objectAndLayerIdColorInstanced",void 0),a([i()],r.prototype,"vvColor",void 0),a([i()],r.prototype,"draped",void 0);let ye=class extends he{constructor(e){super(e,_e),this._configuration=new r,this.supportsEdges=!0,this.produces=new Map([[h.OPAQUE_MATERIAL,s=>this._isOpaqueMaterialPass(s)],[h.OPAQUE_MATERIAL_WITHOUT_NORMALS,s=>this._isOpaqueNoSSAODepthPass(s)],[h.TRANSPARENT_MATERIAL,s=>v(s)&&this._transparent&&this.parameters.writeDepth],[h.TRANSPARENT_MATERIAL_WITHOUT_NORMALS,s=>T(s)&&this._transparent&&this.parameters.writeDepth],[h.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,s=>v(s)&&this._transparent&&!this.parameters.writeDepth],[h.DRAPED_MATERIAL,s=>R(s)]])}getConfiguration(e,s){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasVertexColors=this.parameters.hasVertexColors&&!this.parameters.vvColor,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.transparent=this._transparent,this._configuration.discardInvisibleFragments=this._transparent&&!this._isOpaquePass(e)&&this.parameters.discardInvisibleFragments,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=s.hasOccludees,this._configuration.oitPass=s.oitPass,this._configuration.enableOffset=s.camera.relativeElevation<ee,this._configuration.terrainDepthTest=s.terrainDepthTest,this._configuration.cullAboveTerrain=s.cullAboveTerrain,this._configuration.vvColor=!!this.parameters.vvColor,this._configuration.draped=this.parameters.draped,this._configuration}get visible(){return this.parameters.color[3]>=b}get _transparent(){return this.parameters.color[3]<1||this.parameters.forceTransparentMode}_isOpaquePass(e){return this._isOpaqueMaterialPass(e)||this._isOpaqueNoSSAODepthPass(e)}_isOpaqueMaterialPass(e){return e===d.Highlight||v(e)&&!this._transparent}_isOpaqueNoSSAODepthPass(e){return T(e)&&this.parameters.writeDepth&&!this._transparent}createGLMaterial(e){return new Oe(e)}createBufferWriter(){const e=u().vec3f(o.POSITION);return te()&&e.vec4u8(o.OBJECTANDLAYERIDCOLOR),this.parameters.vvColor?e.f32(o.COLORFEATUREATTRIBUTE):e.vec4u8(o.COLOR),new ne(e)}};class Oe extends se{beginSlot(e){return this.acquireTechnique(fe,e)}}class _e extends re{constructor(){super(...arguments),this.color=N,this.forceTransparentMode=!1,this.writeDepth=!0,this.hasVertexColors=!1,this.polygonOffset=!1,this.hasSlicePlane=!1,this.cullFace=O.None,this.draped=!1,this.discardInvisibleFragments=!1}}var P;(function(t){t[t.EnableFastUpdates=0]="EnableFastUpdates",t[t.DisableFastUpdates=1]="DisableFastUpdates",t[t.UpdateFastLocalOrigin=2]="UpdateFastLocalOrigin"})(P||(P={}));const De=u().vec3f(o.POSITION),Se=u().vec3f(o.POSITION).vec2f(o.UV0),be=u().vec3f(o.POSITION).vec4u8(o.COLOR),Ne=u().vec3f(o.POSITION).vec2f(o.UV0).vec4u8(o.OBJECTANDLAYERIDCOLOR);export{Ne as I,ye as O,P as a,he as e,Se as f,ue as m,be as r,De as t};
