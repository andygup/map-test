import{$T as e,Aw as t,BT as n,D as r,FE as i,Lx as a,MS as o,Ri as s,UT as c,VT as l,ba as u,bd as d,g as f,ip as p,iw as m,jE as h,kD as g,kw as _,qT as v,rw as y,sp as b,xa as x,zh as S}from"./index-BN8X5Ryz.js";var C=Symbol(`isOrientedImageryGraphicOrigin`),w,ee=class extends u{get[(w=C,p)](){return this.layer}get[b](){return this.layer}get[x](){return this.layer}constructor(e){super(),this[w]=!0,this.type=`oriented-imagery`,this.layer=e}get id(){return this.layer.id}},T=class extends t{set horizontalWKID(e){e?o({wkid:+e})?this._set(`horizontalWKID`,+e):this._set(`horizontalWKID`,e):this._set(`horizontalWKID`,null)}set verticalWKID(e){e?this._set(`verticalWKID`,isFinite(e)&&o({wkid:+e})?+e:null):this._set(`verticalWKID`,null)}get isAdvanced(){let{affineTransformations:e,focalLength:t,principalOffsetPoint:n,radialDistortionCoefficients:r,tangentialDistortionCoefficients:i}=this;return e?.length>1&&!Number.isNaN(t)&&n?.length>1&&r?.length>1&&i?.length>1}};g([n({json:{write:!0}})],T.prototype,`affineTransformations`,void 0),g([n({json:{write:!0}})],T.prototype,`focalLength`,void 0),g([n({json:{write:!0}})],T.prototype,`principalOffsetPoint`,void 0),g([n({json:{write:!0}})],T.prototype,`radialDistortionCoefficients`,void 0),g([n({json:{write:!0}})],T.prototype,`tangentialDistortionCoefficients`,void 0),g([n({json:{write:!0}})],T.prototype,`horizontalWKID`,null),g([n({json:{write:!0}})],T.prototype,`verticalWKID`,null),g([n({json:{write:!0}})],T.prototype,`x`,void 0),g([n({json:{write:!0}})],T.prototype,`y`,void 0),g([n({json:{write:!0}})],T.prototype,`z`,void 0),g([n({json:{write:!0}})],T.prototype,`type`,void 0),T=g([l(`esri.layers.orientedImagery.core.CameraOrientation`)],T);var E=T,D=class extends _(y(E)){constructor(){super(...arguments),this.type=1}toString(){let{type:e,horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,heading:o,pitch:s,roll:c,affineTransformations:l,focalLength:u,principalOffsetPoint:d,radialDistortionCoefficients:f,tangentialDistortionCoefficients:p}=this,m=[e,t,n,r,i,a,o,s,c];return this.isAdvanced&&(l?.forEach(e=>m.push(e)),m.push(u),d?.forEach(e=>m.push(e)),f?.forEach(e=>m.push(e)),p?.forEach(e=>m.push(e))),m.map(e=>Number.isNaN(e)?``:e).join(`|`)}};g([n({json:{write:!0}})],D.prototype,`type`,void 0),g([n({type:[Number],json:{write:!0}})],D.prototype,`affineTransformations`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`focalLength`,void 0),g([n({type:[Number],json:{write:!0}})],D.prototype,`principalOffsetPoint`,void 0),g([n({type:[Number],json:{write:!0}})],D.prototype,`radialDistortionCoefficients`,void 0),g([n({type:[Number],json:{write:!0}})],D.prototype,`tangentialDistortionCoefficients`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`heading`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`pitch`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`roll`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`x`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`y`,void 0),g([n({type:Number,json:{write:!0}})],D.prototype,`z`,void 0),D=g([l(`esri.layers.orientedImagery.core.CameraOrientationHPR`)],D);var O=D,k=class extends _(y(E)){constructor(){super(...arguments),this.type=4}toString(){let{type:e,latitude:t,longitude:n,ellipsoidRadius:r,squaredEccentricity:i,properties:a}=this,o=`${a}`.split(`|`);return o.splice(1,1),`${e}|${t}|${n}|${r}|${i}|${o.join(`|`)}`}};g([n({json:{write:!0}})],k.prototype,`type`,void 0),g([n({json:{write:!0},type:Number})],k.prototype,`latitude`,void 0),g([n({json:{write:!0},type:Number})],k.prototype,`longitude`,void 0),g([n({json:{write:!0},type:Number})],k.prototype,`ellipsoidRadius`,void 0),g([n({json:{write:!0},type:Number})],k.prototype,`squaredEccentricity`,void 0),g([n({json:{write:!0}})],k.prototype,`properties`,void 0),k=g([l(`esri.layers.orientedImagery.core.CameraOrientationLTP`)],k);var A=k,j=class extends _(y(E)){constructor(){super(...arguments),this.type=2}toString(){let{type:e,horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,omega:o,phi:s,kappa:c,affineTransformations:l,focalLength:u,principalOffsetPoint:d,radialDistortionCoefficients:f,tangentialDistortionCoefficients:p}=this,m=[e,t,n,r,i,a,o,s,c];return this.isAdvanced&&(l?.forEach(e=>m.push(e)),m.push(u),d?.forEach(e=>m.push(e)),f?.forEach(e=>m.push(e)),p?.forEach(e=>m.push(e))),m.map(e=>isNaN(e)?``:e).join(`|`)}};g([n({json:{write:!0}})],j.prototype,`type`,void 0),g([n({type:[Number],json:{write:!0}})],j.prototype,`affineTransformations`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`focalLength`,void 0),g([n({type:[Number],json:{write:!0}})],j.prototype,`principalOffsetPoint`,void 0),g([n({type:[Number],json:{write:!0}})],j.prototype,`radialDistortionCoefficients`,void 0),g([n({type:[Number],json:{write:!0}})],j.prototype,`tangentialDistortionCoefficients`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`omega`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`phi`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`kappa`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`x`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`y`,void 0),g([n({type:Number,json:{write:!0}})],j.prototype,`z`,void 0),j=g([l(`esri.layers.orientedImagery.core.CameraOrientationOPK`)],j);var M=j,N=class extends _(y(E)){constructor(){super(...arguments),this.type=3}get isAdvanced(){let{affineTransformations:e,focalLength:t,principalOffsetPoint:n,radialDistortionCoefficients:r,tangentialDistortionCoefficients:i}=this;return e?.length>1||!Number.isNaN(t)||n?.length>1||r?.length>1||i?.length>1}toString(){let{type:e,horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,yaw:o,pitch:s,roll:c,affineTransformations:l,focalLength:u,principalOffsetPoint:d,radialDistortionCoefficients:f,tangentialDistortionCoefficients:p}=this,m=[e,t,n,r,i,a,o,s,c];return this.isAdvanced&&(l?.forEach(e=>m.push(e)),m.push(u),d?.forEach(e=>m.push(e)),d?.forEach(e=>m.push(e)),f?.forEach(e=>m.push(e)),p?.forEach(e=>m.push(e))),m.map(e=>Number.isNaN(e)?``:e).join(`|`)}};g([n({json:{write:!0}})],N.prototype,`type`,void 0),g([n({type:[Number],json:{write:!0}})],N.prototype,`affineTransformations`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`focalLength`,void 0),g([n({type:[Number],json:{write:!0}})],N.prototype,`principalOffsetPoint`,void 0),g([n({type:[Number],json:{write:!0}})],N.prototype,`radialDistortionCoefficients`,void 0),g([n({type:[Number],json:{write:!0}})],N.prototype,`tangentialDistortionCoefficients`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`yaw`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`pitch`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`roll`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`x`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`y`,void 0),g([n({type:Number,json:{write:!0}})],N.prototype,`z`,void 0),N=g([l(`esri.layers.orientedImagery.core.CameraOrientationYPR`)],N);var P=N,F=new Map;F.set(`2`,{desc:`Using Omega Phi Kappa`,constructor:M}),F.set(`1`,{desc:`Using Heading, Pitch and Roll`,constructor:O}),F.set(`3`,{desc:`Using Yaw, Pitch and Roll`,constructor:P}),F.set(`4`,{desc:`Using Local Tangent Plane`,constructor:A});var I=class extends _(m){constructor(){super(...arguments),this.url=null}};g([n({type:Number,json:{write:!0}})],I.prototype,`lod`,void 0),g([n({type:String,json:{write:!0}})],I.prototype,`rasterFunction`,void 0),g([n({type:String,json:{write:!0}})],I.prototype,`url`,void 0),I=g([l(`esri.layers.orientedImagery.core.ElevationSourceDefinitions.ElevationSource`)],I);var L=class extends _(m){constructor(){super(...arguments),this.constantElevation=null}};g([n({type:Number,json:{write:!0}})],L.prototype,`constantElevation`,void 0),L=g([l(`esri.layers.orientedImagery.core.ElevationSourceDefinitions.ConstantElevation`)],L);var R=e=>e!=null&&typeof e.constantElevation==`number`;function te(e,t,n){return t&&(e=`${t}${e}`),n&&(e+=`${n}`),e}function ne(e,t,n){let{url:r}=e;return r?(r=te(r,t,n),new I({...e,url:r})):null}function re(e,t,n){return e&&(R(e)?new L(e):ne(e,t,n))}var z=new v({Minutes:`minutes`,Hours:`hours`,Days:`days`,Weeks:`weeks`,Months:`months`,Years:`years`}),B=new v({Feet:`feet`,Meter:`meter`}),V=new v({360:`360`,Horizontal:`horizontal`,Inspection:`inspection`,Nadir:`nadir`,Oblique:`oblique`,Terrestrial360Video:`terrestrial-360-video`,TerrestrialFrameVideo:`terrestrial-frame-video`,Aerial360Video:`aerial-360-video`,AerialFrameVideo:`aerial-frame-video`,"":null}),H=new Map;function U(e){let[t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S]=e.slice(1);return{horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,omega:o,phi:s,kappa:c,...G([l,u,d,f,p,m],[g,_],[v,y,b],[x,S],h)}}H.set(`1`,K),H.set(`3`,q),H.set(`2`,U),H.set(`4`,J);var W=e=>{let t=e.map(e=>parseFloat(e)).filter(e=>!isNaN(e));if(t.length===e.length)return t};function G(e,t,n,r,i){let a=W(e),o=W(t),s=W(n),c=W(r);return{affineTransformations:a?.length===6?a:void 0,focalLength:a?.length===6?parseFloat(i):void 0,principalOffsetPoint:o?.length===2?o:[0,0],radialDistortionCoefficients:s?.length===3?s:[0,0,0],tangentialDistortionCoefficients:c?.length===2?c:[0,0]}}function K(e){let[t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S]=e.slice(1);return{horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,heading:o,pitch:s,roll:c,...G([l,u,d,f,p,m],[g,_],[v,y,b],[x,S],h)}}function q(e){let[t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S]=e.slice(1);return{horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,yaw:o,pitch:s,roll:c,...G([l,u,d,f,p,m],[g,_],[v,y,b],[x,S],h)}}function J(e){let[t,n,r,i,a,...o]=e.slice(1),s=H.get(a),c=F.get(a)?.constructor;return!s||!c?null:{latitude:t,longitude:n,ellipsoidRadius:r,squaredEccentricity:i,properties:new c(s([a,``,...o]))}}function Y(e){return Array.isArray(e)&&e?.length>5&&!e.some(isNaN)}function X(e){for(e=e.slice(0,8);e.length<8;)e.push(0);return e}var ie=new Set([`demPathPrefix`,`demPathSuffix`,`depthImagePathPrefix`,`depthImagePathSuffix`,`elevationSource`,`horizontalMeasurementUnit`,`imageGeometryField`,`imageReferenceField`,`referenceIDField`,`sequenceOrderField`,`verticalMeasurementUnit`,`videoPathPrefix`,`videoPathSuffix`,`timeAnimation`,`visibilityTimeExtent`]),ae=new Set([`elevationSource`]),Z=(e,t)=>!ie.has(t)&&e,oe=(e,t,n)=>{let r=`orientedImageryProperties.${e}`,i={allowNull:ae.has(e),ignoreOrigin:!0};return{name:r,write:t?{...i,target:r,writer:t}:i,read:n?{ignoreOrigin:!0,source:r,reader:n}:{ignoreOrigin:!0}}};function se(e){return e.json?(e.json.origins=e.json.origins??{},e.json.origins[`web-scene`]={write:!1,read:!1},e):e}function Q(e,t,n,r){let{name:i,write:a,read:o}=oe(e,t,n),s={name:i,write:a,read:o,origins:{service:{name:`orientedImageryInfo.${i}`,write:t,read:n},"web-scene":{name:i,write:Z(a,e),read:Z(o,e)},"web-map":{name:i,write:a,read:o}}};return r&&s.origins?(s.type=r,s.origins[`web-map`].type=r,s.origins[`web-scene`].type=r,s):s}var $=class extends f{constructor(e){super(e),this.attributeTableTemplate=null,this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType=`point`,this.graphicOrigin=new ee(this),this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imageGeometryField=`ImageGeometry`,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageReferenceField=`OIObjectID`,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType=`OrientedImageryLayer`,this.orientationAccuracy=null,this.orientedImageryType=null,this.referenceIDField=`OBJECTID`,this.sequenceOrderField=`SequenceOrder`,this.supportedSourceTypes=new Set([`Oriented Imagery Layer`]),this.type=`oriented-imagery`,this.timeIntervalUnit=`days`,this.useViewTime=!0,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null,this.virtualCacheDirectory=null,this.visibilityTimeExtent=null}get effectiveElevationSource(){let{elevationSource:e,demPathPrefix:t,demPathSuffix:n}=this;return re(e,t,n)}set fieldConfigurations(e){}get fieldConfigurations(){}writePopupTemplate(e,t,n,r){e&&(t[n]=e.toJSON(r))}get portalItem(){return super.portalItem}set portalItem(e){super.portalItem=e}async save(e){return this._debouncedSaveOperations(0,e)}async saveAs(e,t){return this._debouncedSaveOperations(1,t,e)}findFirstValidLayerId(e){return e.layers?.find(e=>this.supportedSourceTypes.has(e.type))?.id}_verifySource(){if(super._verifySource(),this.geometryType!==`point`)throw new e(`oriented-imagery-layer:invalid-geometry-type`,`OrientedImageryLayer only supports point geometry type`)}};g([n({type:s,json:{write:!1,read:!1}})],$.prototype,`attributeTableTemplate`,void 0),g([n({type:Number,json:Q(`cameraHeading`)})],$.prototype,`cameraHeading`,void 0),g([n({type:Number,json:Q(`cameraHeight`)})],$.prototype,`cameraHeight`,void 0),g([n({type:Number,json:Q(`cameraPitch`)})],$.prototype,`cameraPitch`,void 0),g([n({type:Number,json:Q(`cameraRoll`)})],$.prototype,`cameraRoll`,void 0),g([n({type:Number,json:Q(`coveragePercent`)})],$.prototype,`coveragePercent`,void 0),g([n({type:String,json:Q(`demPathPrefix`)})],$.prototype,`demPathPrefix`,void 0),g([n({type:String,json:Q(`demPathSuffix`)})],$.prototype,`demPathSuffix`,void 0),g([n({type:String,json:Q(`depthImagePathPrefix`)})],$.prototype,`depthImagePathPrefix`,void 0),g([n({type:String,json:Q(`depthImagePathSuffix`)})],$.prototype,`depthImagePathSuffix`,void 0),g([n({type:Object,json:Q(`elevationSource`)})],$.prototype,`elevationSource`,void 0),g([n({readOnly:!0})],$.prototype,`effectiveElevationSource`,null),g([n({type:Number,json:Q(`farDistance`)})],$.prototype,`farDistance`,void 0),g([n({json:{write:!1}})],$.prototype,`fieldConfigurations`,null),g([n({type:[d]})],$.prototype,`fields`,void 0),g([n()],$.prototype,`geometryType`,void 0),g([n({readOnly:!0,clonable:!1})],$.prototype,`graphicOrigin`,void 0),g([n({type:Number,json:Q(`horizontalFieldOfView`)})],$.prototype,`horizontalFieldOfView`,void 0),g([n({type:String,json:Q(`horizontalMeasurementUnit`)})],$.prototype,`horizontalMeasurementUnit`,void 0),g([n({type:String,json:{...Q(`imageGeometryField`),default:`ImageGeometry`}})],$.prototype,`imageGeometryField`,void 0),g([n({type:String,json:Q(`imagePathPrefix`)})],$.prototype,`imagePathPrefix`,void 0),g([n({type:String,json:Q(`imagePathSuffix`)})],$.prototype,`imagePathSuffix`,void 0),g([n({type:String,json:{...Q(`imageReferenceField`),default:`OIObjectID`}})],$.prototype,`imageReferenceField`,void 0),g([n({type:Number,json:Q(`imageRotation`)})],$.prototype,`imageRotation`,void 0),g([n({type:Number,json:Q(`maximumDistance`)})],$.prototype,`maximumDistance`,void 0),g([n({type:Number,json:Q(`nearDistance`)})],$.prototype,`nearDistance`,void 0),g([n({type:[`OrientedImageryLayer`],json:{origins:{"portal-item":{name:`layerType`,write:{enabled:!0,ignoreOrigin:!0}}}}})],$.prototype,`operationalLayerType`,void 0),g([n({json:{...Q(`orientationAccuracy`,(e,t,n)=>{h(n,e.join(`;`),t)},e=>{let t=e?.split(`;`)?.map(Number);return Y(t)?X(t):[0,0,0,0,0,0,0,0]},String)}})],$.prototype,`orientationAccuracy`,void 0),g([n({json:{...Q(`orientedImageryType`,V.write,V.read,V.jsonValues.slice(1))}})],$.prototype,`orientedImageryType`,void 0),g([c(`popupTemplate`)],$.prototype,`writePopupTemplate`,null),g([n({type:String,json:{...Q(`referenceIDField`),default:`OBJECTID`}})],$.prototype,`referenceIDField`,void 0),g([n({type:String,json:{...Q(`sequenceOrderField`),default:`SequenceOrder`}})],$.prototype,`sequenceOrderField`,void 0),g([n({type:a})],$.prototype,`spatialReference`,void 0),g([n({json:{read:!1},value:`oriented-imagery`,readOnly:!0})],$.prototype,`type`,void 0),g([n({type:z.apiValues,json:{...Q(`timeIntervalUnit`,z.write,z.read,z.jsonValues)}})],$.prototype,`timeIntervalUnit`,void 0),g([n(se(i(r)))],$.prototype,`useViewTime`,void 0),g([n({type:Number,json:Q(`verticalFieldOfView`)})],$.prototype,`verticalFieldOfView`,void 0),g([n({type:B.apiValues,json:{...Q(`verticalMeasurementUnit`,B.write,B.read,B.jsonValues)}})],$.prototype,`verticalMeasurementUnit`,void 0),g([n({type:String,json:Q(`videoPathPrefix`)})],$.prototype,`videoPathPrefix`,void 0),g([n({type:String,json:Q(`videoPathSuffix`)})],$.prototype,`videoPathSuffix`,void 0),g([n({type:String,json:{read:!1,write:!1,origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.virtualCacheDirectory`,read:!0}}}})],$.prototype,`virtualCacheDirectory`,void 0),g([n({type:S,json:{origins:{"web-scene":{write:!1,read:!1}}}})],$.prototype,`visibilityTimeExtent`,void 0),$=g([l(`esri.layers.OrientedImageryLayer`)],$);var ce=$;export{ce as default};