import{$T as e,Du as t,Eu as n,Tu as r,ZS as i,h as a}from"./index-BN8X5Ryz.js";async function o(e,o,s){let l=r(e),u=o.toJSON();o.validationSet&&(u.validationSet=JSON.stringify(o.validationSet));let d={...u,returnEdits:!0,f:`json`},f=t({...l.query,...d}),p=n(f,{...s,method:`post`}),m=`${l.path}/validateNetworkTopology`,{data:h}=await i(m,p);return a.fromJSON(c(h))}async function s(a,o,s){if(!o.gdbVersion)throw new e(`submit-validate-network-topology-job:missing-gdb-version`,`version is missing`);let c=r(a),l=o.toJSON();o.validationSet&&(l.validationSet=JSON.stringify(o.validationSet));let u=n(c.query,{query:t({...l,returnEdits:!0,async:!0,f:`json`}),...s,method:`post`}),d=`${c.path}/validateNetworkTopology`,{data:f}=await i(d,u);return f?f.statusUrl:null}function c(e){return e.serviceEdits&&=e.serviceEdits.map(e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),e={layerId:e.id,editedFeatures:e.editedFeatures})),e}export{c as handleValidateNetworkTopologyResult,s as submitValidateNetworkTopologyJob,o as validateNetworkTopology};