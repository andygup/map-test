import{DT as e,OT as t,gD as n,qw as r,uE as i}from"./index-ByaFsVj4.js";import"./memoryEstimations-C5pKF3kD.js";import"./OptimizedGeometry-DX91by73.js";import"./OptimizedFeatureSet-DAaREXtE.js";import"./featureConversionUtils-C045qQF5.js";import"./earcut-CsNwSYFA.js";import"./layerViewUtils--V83RFAv.js";import"./VertexAttributeLocations-BMy2FGBT.js";import"./VertexElementDescriptor-C9CNG143.js";import"./BoundingBox-ClylkApr.js";import"./config-BY05DP3l.js";import"./WGLContainer-CiXk9por.js";import"./utils-Dm-H4TMy.js";import"./ProgramTemplate-DWR5_pn_.js";import"./VertexArrayObject-IhETPpMJ.js";import"./BufferObject-DWz5bVRd.js";import"./VertexBuffer-BwGrH3vw.js";import"./vec3f32-BWuLbfSR.js";import"./Container-S9H9uxgl.js";import"./GraphShaderModule-VKGmZBI7.js";import"./FramebufferObject-D2tOc-fp.js";import"./ShaderBuilder-NkkCCxyc.js";import"./bitmapUtils-D6zvcU9e.js";import"./Bitmap-DQXXeK0i.js";import{t as a}from"./BitmapContainer-CdDkSfGz.js";import{t as o}from"./LayerView2D-CV9r4nac.js";import{t as s}from"./ExportStrategy-D7IAoxFO.js";import{t as c}from"./LayerView-yVmpY809.js";import{t as l}from"./RefreshableLayerView-BVTbJynu.js";var u=class extends l(o(c)){update(e){this._strategy.update(e).catch(e=>{r(e)||i.getLogger(this).error(e)}),this.notifyChange(`updating`)}attach(){this._bitmapContainer=new a,this.container.addChild(this._bitmapContainer),this._strategy=new s({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(e,t,n){return this.layer.fetchImageBitmap(e,t,n)}async doRefresh(){this.requestUpdate()}isUpdating(){return this._strategy.updating||this.updateRequested}};n([e()],u.prototype,`_strategy`,void 0),u=n([t(`esri.views.2d.layers.BaseDynamicLayerView2D`)],u);var d=u;export{d as default};