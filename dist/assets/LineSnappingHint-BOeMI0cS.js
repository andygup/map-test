import{Db as e,Nu as t,Tb as n,_b as r,gb as i,kl as a,ol as o,u_ as s,wb as c,xb as l,yb as u}from"./index-CZ4oMP1N.js";import{n as d,t as f}from"./dehydratedPoint-rdg1UAtQ.js";import{c as p,i as m,m as h,r as g}from"./elevationInfoUtils-9csVBlEH.js";function _(e,t,n){return v(e,t,n)}function v(e=0,t=0,n=0){return s(e,t,n)}function y(e){return e}function b(e){return e}function x(e,t,n){return y(s(e,t,n))}function S(e){let[t,n,r]=e;return e.length>3?[t,n,r,e[3]]:[t,n,r]}function C(e){return e[3]=1|((e.length>3?e[3]:void 0)??0),e}function w(e){return!!(1&((e.length>3?e[3]:void 0)??0))}function T(e,t,{coordinateHelper:n,elevationInfo:r},i){return e?E(n.vectorToDehydratedPoint(e,A),t,r,i):null}function E(e,t,n,r=v()){return r[0]=e.x,r[1]=e.y,r[2]=e.z??0,t==null||(t.type===`2d`?r[2]=0:r[2]=g(t,e,n,h)??0),r}function D(e,t,n){return n?(f(n,e[0],e[1],e[2],t),n):d(e[0],e[1],e[2],t)}function O(e,t,{z:n,m:r},i,a){let{spatialReference:o,elevationInfo:s}=i,c;c=n==null&&r==null?void 0:t==null||t.type===`2d`?n??void 0:p(t,e,o,h,s)??0;let[l,u]=e;return a?f(a,l,u,c,o):a=d(l,u,c,o),r!=null&&(a.m=r,a.hasM=!0),a}function k(e,t,n,r,i=v()){let[a,o]=e;return i[0]=a,i[1]=o,e.length>3&&(i[3]=e[3]??0),n?.type===`3d`?(i[2]=m(n,a,o,t.value,r,t.elevationInfo,h)??0,i):(i[2]=t.value,i)}var A=d(0,0,0,null);function j(e,t){return e[0]*t[1]-e[1]*t[0]}function M(e,t,n){let r=u(n,t)/c(n);return l(e,n,r)}function N(t,n,i,a,o=i){return r(R,a,i),r(B,n,o),M(V,B,R),e(t,o,V)}function P(e,t,a,o){r(R,t,a);let s=o/n(R);return i(e,a,R,s)}function F(e,t){let n=e.start,a=e.end,o=t.start,s=t.end,c=r(R,a,n),l=r(z,s,o),u=j(c,l);if(Math.abs(u)<=L)return[];let d=r(B,n,o),f=j(l,d)/u,p=j(c,d)/u;if(f>=0){if(p>=0||t.type===1)return[i(V,n,c,f)]}else if(e.type===1&&(p>=0||t.type===1))return[i(V,n,c,f)];return[]}function I(e,t,n){let a=[],o=r(R,e.end,e.start),s=r(z,e.start,t),l=c(o),d=2*u(o,s),f=d*d-4*l*(c(s)-n*n);if(f===0){let t=-d/(2*l);(e.type===1||t>=0)&&a.push(i(V,e.start,o,t))}else if(f>0){let t=Math.sqrt(f),n=(-d+t)/(2*l);(e.type===1||n>=0)&&a.push(i(V,e.start,o,n));let r=(-d-t)/(2*l);(e.type===1||r>=0)&&a.push(i(B,e.start,o,r))}return a}var L=1e-6,R=t(),z=t(),B=t(),V=t(),H=class{constructor(e,t){this.isDraped=e,this.domain=t}},U=class e extends H{constructor(e,t,n,r,i=3,a=!0,o=!0){super(r,i),this.type=e,this.lineStart=t,this.lineEnd=n,this.fadeLeft=a,this.fadeRight=o}equals(t){return t instanceof e&&this.type===t.type&&o(this.lineStart,t.lineStart)&&o(this.lineEnd,t.lineEnd)&&this.fadeLeft===t.fadeLeft&&this.fadeRight===t.fadeRight}get length(){return a(this.lineStart,this.lineEnd)}};export{b as _,I as a,x as c,v as d,O as f,C as g,T as h,P as i,y as l,_ as m,H as n,N as o,E as p,F as r,k as s,U as t,S as u,w as v,D as y};