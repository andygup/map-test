import{RS as e,_u as t,gu as n,hu as r,n as i}from"./index-ByaFsVj4.js";async function a(i,a,o){let c=r(i),l=a.toJSON();l.traceLocations=JSON.stringify(a.traceLocations),a.resultTypes&&(l.resultTypes=JSON.stringify(a.resultTypes)),a.moment||a.gdbVersion?.toUpperCase()!==`SDE.DEFAULT`&&a.gdbVersion||(l.moment=Date.now());let u=n(c.query,{query:t({...l,f:`json`}),...o}),d=`${c.path}/trace`;return e(d,u).then(e=>s(e))}async function o(i,a,o){let s=r(i),c=a.toJSON();c.traceLocations=JSON.stringify(a.traceLocations),a.resultTypes&&(c.resultTypes=JSON.stringify(a.resultTypes));let l=n(s.query,{query:t({...c,async:!0,f:`json`}),...o}),u=`${s.path}/trace`,{data:d}=await e(u,l);return d.statusUrl}function s(e){let{data:t}=e;return i.fromJSON(t.traceResults)}export{o as submitTraceJob,a as trace};