import{_D as e,mD as t}from"./index-ByaFsVj4.js";import{Ut as n,cn as r,dn as i,in as a,mn as o}from"./Point2D-BslC4Gs9.js";import"./Envelope2D-n2TB2v9l.js";import{$t as s,L as c,Mt as l,Q as u,a as d,l as f,n as p,nn as m,r as h,un as g}from"./SpatialReference-Cd_hfGxp.js";import"./Transformation2D-B6W9saMR.js";import"./SimpleGeometryCursor-BbFgAuic.js";import"./OperatorDefinitions-DoM9xd5U.js";import{t as _}from"./OperatorShapePreservingLength-DB8kA5IW.js";var v=class{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}execute(e,t,d,h){if(d===4)return new _().execute(e,t,h);if(t.getCoordinateSystemType()===0&&a(``),o(e),e.isEmpty()||e.getDimension()<1)return 0;let v=t.getGCS(),y=f();v.querySpheroidData(y);let b=y.majorSemiAxis,x=y.e2,S=v.getUnit().getUnitToBaseFactor(),C,w=e.getGeometryType();if(w===r.enumPolygon?C=e.getBoundary():w===r.enumEnvelope?C=m(e):i(w)?(C=new g({vd:e.getDescription()}),C.addSegment(e,!0)):C=e,C.hasNonLinearSegments()&&(C=new s().execute(C,0,t.getTolerance(0),0,h)),v!==t){let i=t.getSRToGCSTransform();if(t.isPannable()){C=p(C,t),w===r.enumPolyline&&C===e&&(C=e.clone());let i=new n;t.getPannableExtent().queryIntervalX(i);for(let e=0,t=C.getPointCount();e<t;e++){let t=C.getXY(e);t.x=c(t.x,i),C.setXY(e,t)}}let a=C.createInstance();C=u(i,C,a,h)?a:new l().execute(C,i,h)}return this._ExecuteMultiPathGeodeticLength(C,d,b,x,S)}_ExecuteMultiPathGeodeticLength(n,r,i,a,o){let s={stack:[],error:void 0,hasError:!1};try{let e=t(s,new h,!1),c=0,l=n.querySegmentIterator();for(;l.nextPath();)for(;l.hasNextSegment();){let t=l.nextSegment(),n=t.getStartXY(),s=t.getEndXY();n.scale(o),s.scale(o),d.geodeticDistance(i,a,n.x,n.y,s.x,s.y,e,null,null,r),c+=e.val}return c}catch(e){s.error=e,s.hasError=!0}finally{e(s)}}};export{v as OperatorGeodeticLength};