import{Au as e,JC as t,Ml as n,Nu as r,Nx as i,Ol as a,_S as o,c_ as s,lb as c,ol as l,qC as u}from"./index-CZ4oMP1N.js";import{t as d}from"./projectVectorToVector-DX3Yd1qf.js";import{a as f,r as p}from"./quantity-CPor8qMe.js";import{a as m,i as h,r as g,t as _}from"./geodesicUtils-CbiJFASl.js";function v(e,t){if(e==null||t==null)return;let n=y(e,t);return n==null?void 0:p(n,`radians`,`geographic`)}var y=(()=>{let e=s(),t=s();return(n,r)=>(a(e,n.x,n.y,n.z??0),a(t,r.x,r.y,r.z??0),b(e,t,n.spatialReference,r.spatialReference))})(),b=(()=>{let t=r(),n=s(),a=s();return(r,s,u,f)=>{if(l(r,s))return;let p=_(u),h=_(f);if(p&&h&&o(p,h)&&d(r,u,n,p)&&d(s,f,a,h)){let{azimuth:e}=m(k,n,a,p);return e==null?void 0:i(e,`degrees`,`radians`)}t[0]=s[0]-r[0],t[1]=s[1]-r[1];let g=c(e,t);return t[0]<0&&(g=A-g),g}})();function x(e,t,n,r=`absolute`){if(t&&n)switch(r){case`absolute`:return v(t,n);case`relative`:return C(S(e,t,n),`relative`);case`relative-bilateral`:return C(S(e,t,n),`relative-bilateral`)}}function S(e,t,n){if(!e||!t||!n)return;let r=y(e,t),i=y(t,n);return r!=null&&i!=null?p(i-r,`radians`,`geographic`):void 0}function C(e,t){if(e!=null)switch(t){case`absolute`:return w(e);case`relative`:{let t=E(e),n=M.normalize(t,0,!0);return n===-180&&(n=180),p(n,`degrees`,`geographic`)}case`relative-bilateral`:{let t=E(e),n=Math.abs(M.normalize(t,0,!0));return p(n,`degrees`,`geographic`)}}}function w(e){let t=E(e),n=j.normalize(t,0,!0);return p(n,`degrees`,`geographic`)}var T=(()=>{let e=s();return(t,r,o,s,c,l=`geodesic`)=>{n(e,r);let u=E(c);if(l===`geodesic`){let n=_(o);if(n&&d(e,o,e,n))return h(t,e,u,s,n),t[2]=r[2],!!d(t,n,t,o)}let p=f(u,`geographic`,`arithmetic`),m=i(p,`degrees`,`radians`),g=r[0]+s*Math.cos(m),v=r[1]+s*Math.sin(m),y=r[2];return a(t,g,v,y),!0}})();function E(e){if(e!=null)return f(O(e),e.rotationType,`geographic`)}function D(e){if(e!=null)return f(O(e),e.rotationType,`arithmetic`)}function O(e){return i(e.value,e.unit,`degrees`)}var k=new g,A=2*Math.PI,j=u,M=new t(-180,180);export{v as a,b as c,D as i,T as n,C as o,E as r,x as s,w as t};