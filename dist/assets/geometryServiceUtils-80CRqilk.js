import{$T as e,AE as t,Aa as n,ja as r,qh as i}from"./index-BN8X5Ryz.js";async function a(n=null,r){if(t.geometryServiceUrl)return t.geometryServiceUrl;if(!n)throw new e(`internal:geometry-service-url-not-configured`,`No geometryServiceUrl in configuration`);let a;a=`portal`in n?n.portal||i.getDefault():n,await a.load({signal:r});let o=a.helperServices?.geometry?.url;if(!o)throw new e(`internal:geometry-service-url-not-configured`,`No geometryServiceUrl in configuration`);return o}async function o(t,i,o=null,s){let c=await a(o,s),l=new r({geometries:[t],outSpatialReference:i}),u=await n(c,l,{signal:s});if(u&&Array.isArray(u)&&u.length===1)return u[0];throw new e(`internal:geometry-service-projection-failed`,`Geometry projection failed on service`)}export{a as getGeometryServiceURL,o as projectGeometry};