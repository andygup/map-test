import{Aw as e,cm as t,lm as n,om as r,wn as i}from"./index-BN8X5Ryz.js";import{A as a,T as o,dt as s,f as c,it as l,nt as u,t as d,ut as f}from"./Dictionary-Db5-uVgu.js";var p={point:[`hasZ`,`hasM`,`spatialReference`,`type`,`x`,`y`,`z`,`m`],multipoint:[`hasZ`,`hasM`,`spatialReference`,`type`,`points`],polyline:[`hasZ`,`hasM`,`spatialReference`,`type`,`paths`],polygon:[`hasZ`,`hasM`,`spatialReference`,`type`,`rings`],extent:[`hasZ`,`hasM`,`spatialReference`,`type`,`xmin`,`xmax`,`ymin`,`ymax`,`zmin`,`zmax`,`mmin`,`mmax`]};function m(e){return p[e.type]}function h(e,t,n,r){let a=v(e,t);if(a===g)throw new i(n,`InvalidMemberAccessKey`,r);return a}var g=Symbol(`keyNotFound`),_=0;function v(t,n){switch(n=n.toLowerCase()){case`hasz`:return t.hasZ??!1;case`hasm`:return t.hasM??!1;case`spatialreference`:{let n=t.spatialReference._arcadeCacheId;n!=null||e.isFrozen(t.spatialReference)||(_++,t.spatialReference._arcadeCacheId=_,n=_);let r=new d({__proto__:null,wkt:t.spatialReference.wkt,wkid:t.spatialReference.wkid});return n!=null&&(r._arcadeCacheId=`SPREF`+n.toString()),r}}switch(t.type){case`extent`:switch(n){case`xmin`:case`xmax`:case`ymin`:case`ymax`:case`zmin`:case`zmax`:case`mmin`:case`mmax`:return t[n]??null;case`type`:return`Extent`}break;case`polygon`:switch(n){case`rings`:{let e=t.cache._arcadeCacheId;return e??(_++,e=_,t.cache._arcadeCacheId=e),new f(t.rings,t.spatialReference,!0===t.hasZ,!0===t.hasM,e)}case`type`:return`Polygon`}break;case`point`:switch(n){case`x`:case`y`:case`z`:case`m`:return t[n]??null;case`type`:return`Point`}break;case`polyline`:switch(n){case`paths`:{let e=t.cache._arcadeCacheId;return e??(_++,e=_,t.cache._arcadeCacheId=e),new f(t.paths,t.spatialReference,!0===t.hasZ,!0===t.hasM,e)}case`type`:return`Polyline`}break;case`multipoint`:switch(n){case`points`:{let e=t.cache._arcadeCacheId;return e??(_++,e=_,t.cache._arcadeCacheId=e),new s(t.points,t.spatialReference,!0===t.hasZ,!0===t.hasM,e,1)}case`type`:return`Multipoint`}}return g}function y(e,t){let r,i=e;if(i==null)return null;if(n(t))r=t;else if(u(t))r=t.toArray();else{if(t==null)return null;r=[t]}for(let e of r)if(i=x(i,e),i==null)return null;return i}function b(e){return!!l(e)||(n(e)?e.length===0:u(e)?e.length()===0:!!o(e)&&e.isEmpty())}function x(e,i){if(e==null)return null;if(e instanceof d||o(e))return r(i)&&e.hasField(i)?e.field(i):null;if(a(e)){if(!r(i))return null;let t=v(e,i);return t===g?null:t}return n(e)||r(e)?t(i)&&Number.isInteger(i)?(i<0&&(i=e.length+i),i>=e.length||i<0?null:e[i]):null:u(e)?t(i)&&Number.isInteger(i)?(i<0&&(i=e.length()+i),i>=e.length()||i<0?null:e.get(i)):null:c(e)&&r(i)&&e.hasGlobal(i)?e.global(i):null}function S(e,s){if(e==null)throw new i(null,`MemberOfNull`,null);if(e instanceof d||o(e)){if(r(s))return e.field(s);throw new i(null,`InvalidMemberAccessKey`,null)}if(a(e)){if(r(s))return h(e,s,null,null);throw new i(null,`InvalidMemberAccessKey`,null)}if(n(e)||r(e)){if(t(s)&&Number.isInteger(s)){if(s<0&&(s=e.length+s),s>=e.length||s<0)throw new i(null,`OutOfBounds`,null);return e[s]}throw new i(null,`InvalidMemberAccessKey`,null)}if(u(e)){if(t(s)&&Number.isInteger(s)){if(s<0&&(s=e.length()+s),s>=e.length()||s<0)throw new i(null,`OutOfBounds`,null);return e.get(s)}throw new i(null,`InvalidMemberAccessKey`,null)}if(c(e)){if(r(s))return e.global(s);throw new i(null,`InvalidMemberAccessKey`,null)}throw new i(null,`InvalidMemberAccessKey`,null)}export{x as a,m as i,S as n,h as o,y as r,b as t};