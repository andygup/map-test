const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/WhereClause-XIdCZehx.js","assets/WhereClause-CATd9kVz.js","assets/index-BN8X5Ryz.js","assets/index-CWJhHB6-.css"])))=>i.map(i=>d[i]);
import{$S as e,Ag as t,Aw as n,BT as r,Bv as i,Ex as a,Id as o,Jd as s,Mg as c,Mh as l,Od as u,Ov as d,Rd as f,Rl as p,Sg as m,Sw as h,TT as g,VT as _,Wd as v,Zd as y,cv as b,dv as x,gT as S,hv as ee,im as te,jg as C,kD as w,lv as ne,lx as re,mD as ie,mv as T,mx as ae,nE as E,pT as D,ph as O,pv as k,qd as oe,rE as se,sD as A,tT as ce,tu as le,ux as j,wg as M,y_ as N,zd as P}from"./index-BN8X5Ryz.js";import"./quatf64-D37SEdPg.js";import"./plane-Da5EsY0J.js";import"./vectorStacks-Cuo89CNO.js";import{n as F}from"./dehydratedPoint-CWZQBefp.js";import{r as I}from"./layerViewUtils-CJcMVuwG.js";import{t as L}from"./memoize-Dl61_jt0.js";import{a as R}from"./elevationInfoUtils-uoMH3ofe.js";import{t as z}from"./WorkerHandle-CqB02i91.js";import"./ObjectStack-l5kM7JZu.js";import"./ray-LkJ58wpZ.js";import"./geodesicUtils-D99LxQ6q.js";import"./LineSnappingHint-CmFAetWF.js";import{c as B}from"./snappingUtils-D3oTIKrZ.js";import"./vec3-B94Y7ih2.js";import"./sphere-d9-4vNcj.js";import"./constraints-Ch5tsKD8.js";import"./SnappingCandidate-DueCLuvH.js";import"./EdgeSnappingCandidate-CCg5Xb97.js";import"./DrapedEdgeSnappingCandidate-CqXt8QLN.js";import"./lineSegment-BudcKS0C.js";import"./PointSnappingHint-F2JtYtXH.js";import{n as V,s as H,t as U}from"./boundedPlane-DKHNKWJN.js";import"./VertexSnappingCandidate-DgxoZtvD.js";import{n as ue,t as de}from"./queryEngineUtils-D9pJ9DzT.js";function W(e,t){return U(t.extent,G),H(G,p(fe,e.x,e.y,0))}var G=V(),fe=N(),K=class extends n{get tiles(){let e=this.tilesCoveringView,t=this.pointOfInterest==null?this.view.center:this.pointOfInterest;return e.sort((e,n)=>W(t,e)-W(t,n)),e}_scaleEnabled(){return I(this.view.scale,this.layer.minScale||0,this.layer.maxScale||0)}get tilesCoveringView(){if(!this.view.ready||!this.view.featuresTilingScheme||!this.view.state||this.tileInfo==null||!this._scaleEnabled)return[];let{spans:e,lodInfo:t}=this.view.featuresTilingScheme.getTileCoverage(this.view.state,0),{level:n}=t,r=[];for(let{row:i,colFrom:a,colTo:o}of e)for(let e=a;e<=o;e++){let a=t.normalizeCol(e),o=new C(n,i,a);this.tileInfo.updateTileInfo(o),r.push(o)}return r}get tileInfo(){return this.view.featuresTilingScheme?.tileInfo??null}get tileSize(){return this.tileInfo==null?256:this.tileInfo.size[0]}constructor(e){super(e),this.pointOfInterest=null,this.updating=!1}initialize(){this.addHandles(k(()=>this.view?.state?.viewpoint,()=>this.notifyChange(`tilesCoveringView`),b))}};w([r({readOnly:!0})],K.prototype,`tiles`,null),w([r({readOnly:!0})],K.prototype,`_scaleEnabled`,null),w([r({readOnly:!0})],K.prototype,`tilesCoveringView`,null),w([r({readOnly:!0})],K.prototype,`tileInfo`,null),w([r({readOnly:!0})],K.prototype,`tileSize`,null),w([r({constructOnly:!0})],K.prototype,`view`,void 0),w([r({constructOnly:!0})],K.prototype,`layer`,void 0),w([r()],K.prototype,`pointOfInterest`,void 0),w([r()],K.prototype,`updating`,void 0),K=w([_(`esri.views.2d.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles2D`)],K);var q=class extends n{get _sortedTilesCoveringView(){let e=(this.view.featureTiles?.tiles?.toArray()??[]).map(pe),t=this._effectivePointOfInterest;return t!=null&&e.sort((e,n)=>W(t,e)-W(t,n)),e}get tileInfo(){return this.view.featureTiles?.tilingScheme?.toTileInfo()??null}get tileSize(){return this.view.featureTiles?.tileSize??256}get _effectivePointOfInterest(){return this.pointOfInterest??this.view.pointsOfInterest?.focus.location}get updating(){return!this.view.featureTiles}constructor(e){super(e),this.tiles=[],this.pointOfInterest=null}initialize(){this.addHandles([this.view.enableFeatureTiles(),k(()=>this._sortedTilesCoveringView,e=>this._set(`tiles`,e),{initial:!0,equals:(e,t)=>ie(e,t,(e,t)=>e.id===t.id)})])}};function pe({lij:[e,t,n],extent:r}){return new C(e,t,n,r??ae())}w([r({readOnly:!0})],q.prototype,`tiles`,void 0),w([r({readOnly:!0})],q.prototype,`_sortedTilesCoveringView`,null),w([r({readOnly:!0})],q.prototype,`tileInfo`,null),w([r({readOnly:!0})],q.prototype,`tileSize`,null),w([r({constructOnly:!0})],q.prototype,`view`,void 0),w([r()],q.prototype,`pointOfInterest`,void 0),w([r()],q.prototype,`_effectivePointOfInterest`,null),w([r()],q.prototype,`updating`,null),q=w([_(`esri.views.3d.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiles3D`)],q);var me=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]],J=class extends n{constructor(e){super(e),this.updating=!1,this.enablePolygons=!0,this.enableLabels=!0,this._polygons=new Map,this._labels=new Map,this._symbols=me.map(e=>new f({color:[e[0],e[1],e[2],.6],outline:{color:`black`,width:1}})),this._enabled=!0}initialize(){this.update()}destroy(){this._enabled=!1,this.clear()}get enabled(){return this._enabled}set enabled(e){this._enabled!==e&&(this._enabled=e,this.update())}getLabel(e){if(e.label!=null)return e.label;let t=e.lij.toString();return e.loadPriority!=null&&(t+=` (${e.loadPriority})`),e.measures&&(t+=`[${e.measures.lodLevel}]`),t}update(){if(!this._enabled)return void this.clear();let e=this.getTiles(),t=[],n=new Set(this._labels.size>0?this._labels.keys():this._polygons.keys());e.forEach((r,i)=>{let a=r.lij.toString();n.delete(a);let c=r.measures?.lodLevel??r.level,l=r.geometry;if(this.enablePolygons&&!this._polygons.has(a)){let e=r.polygonSymbol??this._symbols[c%this._symbols.length],n=new u({geometry:l,symbol:e});this._polygons.set(a,n),t.push(n)}if(this.enableLabels){let n=this.getLabel(r),c=i/(e.length-1),d=h(0,200,c),f=h(20,6,c)/.75,p=r.loadPriority!=null&&r.loadPriority>=e.length,m=new O([d,p?0:d,p?0:d]),g=this.view.type===`3d`?()=>new P({verticalOffset:new v({screenLength:40/.75}),callout:new oe({color:new O(`white`),border:new s({color:new O(`black`)})}),symbolLayers:new ee([new y({text:n,halo:{color:`white`,size:1/.75},material:{color:m},size:f})])}):()=>new o({text:n,haloColor:`white`,haloSize:1/.75,color:m,size:f}),_=this._labels.get(a);if(_){let e=g();_.symbol!=null&&JSON.stringify(e)===JSON.stringify(_.symbol)||(_.symbol=e)}else{let e=new u({geometry:l.extent.center,symbol:g()});this._labels.set(a,e),t.push(e)}}});let r=[];n.forEach(e=>{let t=this._polygons.get(e);t!=null&&(r.push(t),this._polygons.delete(e));let n=this._labels.get(e);n!=null&&(r.push(n),this._labels.delete(e))}),this.view.graphics.removeMany(r),this.view.graphics.addMany(t)}clear(){this.view.graphics.removeMany(Array.from(this._polygons.values())),this.view.graphics.removeMany(Array.from(this._labels.values())),this._polygons.clear(),this._labels.clear()}};w([r({constructOnly:!0})],J.prototype,`view`,void 0),w([r({readOnly:!0})],J.prototype,`updating`,void 0),w([r()],J.prototype,`enabled`,null),J=w([_(`esri.views.support.TileTreeDebugger`)],J);var Y=class extends J{constructor(e){super(e)}initialize(){let e=setInterval(()=>this._fetchDebugInfo(),2e3);this.addHandles(se(()=>clearInterval(e)))}getTiles(){if(!this._debugInfo)return[];let e=new Map,t=new Map;this._debugInfo.storedTiles.forEach(t=>e.set(C.fromJSON(t.key).id,t.featureCount)),this._debugInfo.pendingTiles.forEach(n=>{e.set(n.key.id,n.featureCount),t.set(n.key.id,n.state)});let n=n=>{let r=t.get(n),i=e.get(n)??`?`;return r?`${r}:${i}\n${n}`:`store:${i}\n${n}`},r=new Map;return this._debugInfo.storedTiles.forEach(e=>{let t=C.fromJSON(e.key);r.set(t.id,t)}),this._debugInfo.pendingTiles.forEach(e=>{r.set(e.key.id,e.key)}),Array.from(r.values()).map(e=>({lij:[e.level,e.row,e.col],level:e.level,geometry:i.fromExtent(re(e.extent,this.view.spatialReference)),label:n(e.id)}))}_fetchDebugInfo(){this.handle.getDebugInfo(null).then(e=>{this._debugInfo=e,this.update()})}};w([r({constructOnly:!0})],Y.prototype,`handle`,void 0),Y=w([_(`esri.views.interactive.snapping.featureSources.WorkerTileTreeDebugger`)],Y);var X=class extends n{get updating(){return this._updatingHandles.updating||this._workerHandleUpdating}constructor(e){super(e),this._updatingHandles=new M,this._suspendController=null,this.schedule=null,this.hasZ=!1,this.elevationAlignPointsInFeatures=async e=>{let t=[];for(let{points:n}of e.pointsInFeatures)for(let{z:e}of n)t.push(e);return{elevations:t,drapedObjectIds:new Set,failedObjectIds:new Set}},this.queryForSymbologySnapping=async()=>({candidates:[],sourceCandidateIndices:[]}),this.availability=0,this._workerHandleUpdating=!0,this.updateOutFields=ce(async(e,t)=>{await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`updateOutFields`,[...e],t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`whenNotUpdating`,{},t))})}destroy(){this._suspendController=g(this._suspendController),this._workerHandle.destroy(),this._updatingHandles.destroy()}initialize(){this._workerHandle=new ge(this.schedule,{alignElevation:async(e,{signal:t})=>({result:await this.elevationAlignPointsInFeatures(e.query,t)}),getSymbologyCandidates:async(e,{signal:t})=>({result:await this.queryForSymbologySnapping(e,t)})}),this.addHandles([this._workerHandle.on(`notify-updating`,({updating:e})=>this._workerHandleUpdating=e),this._workerHandle.on(`notify-availability`,({availability:e})=>this._set(`availability`,e))])}async setup(e,t){let n=he(e.layer);if(n==null)return;let r={configuration:Z(e.configuration),serviceInfo:n,spatialReference:e.spatialReference.toJSON(),hasZ:this.hasZ,elevationInfo:e.layer.elevationInfo?.toJSON()};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`setup`,r,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`whenNotUpdating`,{},t))}async configure(e,t){let n=Z(e);await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`configure`,n,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`whenNotUpdating`,{},t))}async refresh(e){await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`refresh`,{},e)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`whenNotUpdating`,{},e))}async fetchCandidates(e,t){let{point:n,filter:r,coordinateHelper:i}=e,a={...e,point:F(n[0],n[1],n[2],i.spatialReference.toJSON()),filter:r?.toJSON()};return this._workerHandle.invoke(a,t)}async updateTiles(e,t){let n={tiles:e.tiles.map(e=>e.toJSON()),tileInfo:e.tileInfo==null?null:e.tileInfo.toJSON(),tileSize:e.tileSize};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`updateTiles`,n,t)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`whenNotUpdating`,{},t))}async handleEdits({historicMoment:e,addedFeatures:t,deletedFeatures:n,updatedFeatures:r},i){let a={historicMoment:e,addedFeatures:t?.map(({objectId:e})=>e).filter(A)??[],deletedFeatures:n?.map(({objectId:e,globalId:t})=>({objectId:e,globalId:t}))??[],updatedFeatures:r?.map(({objectId:e})=>e).filter(A)??[]};await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`handleEdits`,a,i)),this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`whenNotUpdating`,{},i))}async setHistoricMoment(e,t){await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`setHistoricMoment`,{moment:e},t))}getDebugInfo(e){return this._workerHandle.invokeMethod(`getDebugInfo`,{},e)}async notifyElevationSourceChange(){await this._workerHandle.invokeMethod(`notifyElevationSourceChange`,{})}async notifySymbologyChange(){await this._workerHandle.invokeMethod(`notifySymbologyChange`,{})}async setSymbologySnappingSupported(e){await this._workerHandle.invokeMethod(`setSymbologySnappingSupported`,e)}async setSuspended(e){this._suspendController?.abort(),this._suspendController=new AbortController,await this._updatingHandles.addPromise(this._workerHandle.invokeMethod(`setSuspended`,e,this._suspendController.signal))}};function Z(e){return{filter:e.filter==null?null:e.filter.toJSON(),customParameters:e.customParameters,viewType:e.viewType}}function he(e){return e.geometryType===`multipatch`||e.geometryType===`mesh`?null:{url:e.parsedUrl?.path??``,fieldsIndex:e.fieldsIndex.toJSON(),geometryType:d.toJSON(e.geometryType),capabilities:e.capabilities,objectIdField:e.objectIdField,globalIdField:e.globalIdField,spatialReference:e.spatialReference.toJSON(),timeInfo:e.timeInfo?.toJSON()}}w([r({constructOnly:!0})],X.prototype,`schedule`,void 0),w([r({constructOnly:!0})],X.prototype,`hasZ`,void 0),w([r({constructOnly:!0})],X.prototype,`elevationAlignPointsInFeatures`,void 0),w([r({constructOnly:!0})],X.prototype,`queryForSymbologySnapping`,void 0),w([r({readOnly:!0})],X.prototype,`updating`,null),w([r({readOnly:!0})],X.prototype,`availability`,void 0),w([r()],X.prototype,`_workerHandleUpdating`,void 0),X=w([_(`esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorkerHandle`)],X);var ge=class extends z{constructor(e,t){super(`FeatureServiceSnappingSourceWorker`,`fetchCandidates`,{},e,{strategy:`dedicated`,client:t})}},Q=class extends n{get tiles(){return[new C(0,0,0,j(-1e8,-1e8,1e8,1e8))]}get tileInfo(){return new t({origin:new a({x:-1e8,y:1e8,spatialReference:this.layer.spatialReference}),size:[512,512],lods:[new c({level:0,scale:1,resolution:390625})],spatialReference:this.layer.spatialReference})}get tileSize(){return this.tileInfo.size[0]}constructor(e){super(e),this.pointOfInterest=null,this.updating=!1}};w([r({readOnly:!0})],Q.prototype,`tiles`,null),w([r({readOnly:!0})],Q.prototype,`tileInfo`,null),w([r({readOnly:!0})],Q.prototype,`tileSize`,null),w([r({constructOnly:!0})],Q.prototype,`layer`,void 0),w([r()],Q.prototype,`pointOfInterest`,void 0),w([r()],Q.prototype,`updating`,void 0),Q=w([_(`esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTilesSimple`)],Q);var $=class extends n{get _updateTilesParameters(){return{tiles:this._tilesOfInterest.tiles,tileInfo:this._tilesOfInterest.tileInfo,tileSize:this._tilesOfInterest.tileSize}}get _layerView(){return this.view?.allLayerViews.find(e=>e.layer===this._layer)}get _isSuspended(){return l(this._layer)&&!this.layerSource.sublayerSources.some(e=>e.enabled&&e.layer.visible)?!0:this._snappingComplexityExceeded||!!this.view&&(!1!==this._layerView?.suspended||!this.layerSource.enabled)}get _snappingComplexityExceeded(){return!(!this._layerView||!(`snappingComplexityExceeded`in this._layerView))&&this._layerView.snappingComplexityExceeded}get updating(){return this._workerHandle?.updating||this._updatingHandles.updating||this._tilesOfInterest.updating}get _outFields(){let{view:e,_layerView:t,layerSource:n}=this,{layer:r}=n,{fieldsIndex:i,timeInfo:a,floorInfo:o,subtypeField:s}=r,c=t&&`filter`in t?t.filter:null,l=c?.where&&c.where!==`1=1`?this._getOrLoadWhereFields(c.where,i):[];if(c?.timeExtent&&a){let{startField:e,endField:t}=a,n=i.get(e)?.name??e,r=i.get(t)?.name??t;n&&l.push(n),r&&l.push(r)}if(e?.map&&B(e.map)&&e.map.utilityNetworks?.find(e=>e.isUtilityLayer(r))){let e=r.fieldsIndex.get(`assetGroup`)?.name,t=r.fieldsIndex.get(`assetType`)?.name;e&&t&&(l.push(e),l.push(t))}if(r&&o?.floorField&&e?.floors?.length){let e=i.get(o.floorField)?.name??o.floorField;e&&l.push(e)}if(s){let e=i.get(s)?.name??s;e&&l.push(e)}return new Set(l)}get configuration(){let{view:e}=this,{apiKey:t,customParameters:n}=this._layer,r=e==null?`2d`:e.type,i=this._layer.createQuery();return this._layerView&&`effectiveDisplayFilter`in this._layerView&&(i.where=te(i.where,this._layerView.effectiveDisplayFilter?.where)),{filter:i,customParameters:t?{...n,token:t}:n,viewType:r}}get availability(){return this._workerHandle?.availability??0}get _layer(){return this.layerSource.layer}constructor(e){super(e),this._updatingHandles=new M,this._workerHandle=null,this._debug=null,this._memoizedMakeGetGroundElevation=L(de)}initialize(){let e,t=this.view;if(t==null||t.destroyed)this._tilesOfInterest=new Q({layer:this._layer}),e=this._workerHandle=new X;else switch(t.type){case`2d`:this._tilesOfInterest=new K({view:t,layer:this._layer}),e=this._workerHandle=new X;break;case`3d`:{let{resourceController:n}=t,r=this._layer;this._tilesOfInterest=new q({view:t}),e=this._workerHandle=new X({schedule:e=>n.immediate.schedule(e),hasZ:r.hasZ&&(r.returnZ??!0),elevationAlignPointsInFeatures:async(e,n)=>{let i=await t.whenLayerView(r);return D(n),i.elevationAlignPointsInFeatures(e,n)},queryForSymbologySnapping:async(e,n)=>{let i=await t.whenLayerView(r);return D(n),i.queryForSymbologySnapping(e,n)}}),this._updatingHandles.add(()=>r.elevationInfo,()=>S(e.notifyElevationSourceChange()),x),this._updatingHandles.add(()=>this._layerView?.layer?.renderer,()=>S(e.notifySymbologyChange()),x),this._updatingHandles.add(()=>this._layerView?.symbologySnappingSupported??!1,t=>S(e.setSymbologySnappingSupported(t)),x),this.addHandles([t.elevationProvider.on(`elevation-change`,({context:t})=>{let{elevationInfo:n}=r;R(t,n)&&S(e.notifyElevationSourceChange())}),ne(()=>this._layerView?.layer,[`edits`,`apply-edits`,`graphic-update`],()=>e.notifySymbologyChange())]);break}}this.addHandles([E(e)]),S(e.setup({layer:this._layer,spatialReference:this.spatialReference,configuration:this.configuration},null)),this._updatingHandles.add(()=>this._updateTilesParameters,()=>S(e.updateTiles(this._updateTilesParameters,null)),x),this.addHandles([k(()=>this.configuration,t=>S(e.configure(t,null)),b),k(()=>this._layer.historicMoment,t=>S(e.setHistoricMoment(t)),T),k(()=>this._isSuspended,t=>S(e.setSuspended(t)),T)]),this._updatingHandles.add(()=>this._outFields,t=>S(e.updateOutFields(t)),x),t!=null&&this.addHandles(k(()=>le.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES,n=>{n&&!this._debug?(this._debug=new Y({view:t,handle:e}),this.addHandles(E(this._debug),`debug`)):!n&&this._debug&&this.removeHandles(`debug`)},x)),this.addHandles([this.layerSource.layer.on(`edits`,t=>S(e.handleEdits(t,null))),this.layerSource.layer.on(`apply-edits`,e=>this._updatingHandles.addPromise(e.result))])}destroy(){this._updatingHandles.destroy(),this._tilesOfInterest.destroy()}refresh(){this._workerHandle?.refresh(null)}async fetchCandidates(e,t){if(this._isSuspended)return[];let{coordinateHelper:n,point:r}=e;this._tilesOfInterest.pointOfInterest=n.arrayToPoint(r);let i=this._memoizedMakeGetGroundElevation(this.view,n.spatialReference);return(await this._workerHandle.fetchCandidates({...e},t)).candidates.map(e=>ue(e,i))}getDebugInfo(e){return this._workerHandle.getDebugInfo(e)}_getOrLoadWhereFields(t,n){let{_whereModule:r}=this;if(!this._loadWhereModuleTask&&!r){let t=m(async()=>(this._whereModule=(await e(()=>import(`./WhereClause-XIdCZehx.js`),__vite__mapDeps([0,1,2,3]))).default,this._whereModule));return this._loadWhereModuleTask=t,this._updatingHandles.addPromise(t.promise),[]}if(!r)return[];try{return r.create(t,{fieldsIndex:n}).fieldNames}catch{return[]}}};w([r({constructOnly:!0})],$.prototype,`spatialReference`,void 0),w([r({constructOnly:!0})],$.prototype,`layerSource`,void 0),w([r({constructOnly:!0})],$.prototype,`view`,void 0),w([r()],$.prototype,`_tilesOfInterest`,void 0),w([r({readOnly:!0})],$.prototype,`_updateTilesParameters`,null),w([r()],$.prototype,`_layerView`,null),w([r()],$.prototype,`_isSuspended`,null),w([r()],$.prototype,`_snappingComplexityExceeded`,null),w([r({readOnly:!0})],$.prototype,`updating`,null),w([r()],$.prototype,`_outFields`,null),w([r({readOnly:!0})],$.prototype,`configuration`,null),w([r({readOnly:!0})],$.prototype,`availability`,null),w([r()],$.prototype,`_loadWhereModuleTask`,void 0),w([r()],$.prototype,`_whereModule`,void 0),$=w([_(`esri.views.interactive.snapping.featureSources.FeatureServiceSnappingSource`)],$);export{$ as FeatureServiceSnappingSource};