import{Aa as e,BT as t,Ih as n,_E as r,ja as i}from"./index-CzMixifc.js";async function a(e=null,i){if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!e)throw new t(`internal:geometry-service-url-not-configured`,`No geometryServiceUrl in configuration`);let a;a=`portal`in e?e.portal||n.getDefault():e,await a.load({signal:i});let o=a.helperServices?.geometry?.url;if(!o)throw new t(`internal:geometry-service-url-not-configured`,`No geometryServiceUrl in configuration`);return o}async function o(n,r,o=null,s){let c=await a(o,s),l=new i({geometries:[n],outSpatialReference:r}),u=await e(c,l,{signal:s});if(u&&Array.isArray(u)&&u.length===1)return u[0];throw new t(`internal:geometry-service-projection-failed`,`Geometry projection failed on service`)}export{a as getGeometryServiceURL,o as projectGeometry};