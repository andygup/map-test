import{Du as e,Eu as t,Tu as n,ZS as r,n as i}from"./index-BN8X5Ryz.js";async function a(i,a,o){let c=n(i),l=a.toJSON();l.traceLocations=JSON.stringify(a.traceLocations),a.resultTypes&&(l.resultTypes=JSON.stringify(a.resultTypes)),a.moment||a.gdbVersion?.toUpperCase()!==`SDE.DEFAULT`&&a.gdbVersion||(l.moment=Date.now());let u=t(c.query,{query:e({...l,f:`json`}),...o}),d=`${c.path}/trace`;return r(d,u).then(e=>s(e))}async function o(i,a,o){let s=n(i),c=a.toJSON();c.traceLocations=JSON.stringify(a.traceLocations),a.resultTypes&&(c.resultTypes=JSON.stringify(a.resultTypes));let l=t(s.query,{query:e({...c,async:!0,f:`json`}),...o}),u=`${s.path}/trace`,{data:d}=await r(u,l);return d.statusUrl}function s(e){let{data:t}=e;return i.fromJSON(t.traceResults)}export{o as submitTraceJob,a as trace};