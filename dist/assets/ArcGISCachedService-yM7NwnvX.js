import{Ag as e,BT as t,Lx as n,VT as r,WT as i,kD as a}from"./index-BN8X5Ryz.js";import{t as o}from"./TileInfoTilemapCache-DkoFuD4x.js";import{t as s}from"./TilemapCache-jwsQgZr5.js";var c=c=>{let l=c,u=class extends l{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return t.minLOD!=null&&t.maxLOD!=null?e:0}readMaxScale(e,t){return t.minLOD!=null&&t.maxLOD!=null?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(t,n,r){let i=n.capabilities?.includes(`Tilemap`),{minLOD:a,maxLOD:c,minScale:l,maxScale:u}=n;if(a==null&&c==null&&(l!==0||u!==0)){let e=e=>Math.round(1e4*e)/1e4;l=e(l||n.tileInfo.lods[0].scale),u=e(u||n.tileInfo.lods[n.tileInfo.lods.length-1].scale);for(let t of n.tileInfo.lods){let n=e(t.scale);a=n>=l?t.level:a,c=n>=u?t.level:c}}if(i)return new s({layer:this,minLOD:a,maxLOD:c});if(n.tileInfo){let t=new e;return t.read(n.tileInfo,r),new o(t,a,c)}return null}};return a([t({json:{read:{source:`copyrightText`}}})],u.prototype,`copyright`,void 0),a([t()],u.prototype,`minScale`,void 0),a([i(`service`,`minScale`)],u.prototype,`readMinScale`,null),a([t()],u.prototype,`maxScale`,void 0),a([i(`service`,`maxScale`)],u.prototype,`readMaxScale`,null),a([t({type:n})],u.prototype,`spatialReference`,void 0),a([t({readOnly:!0})],u.prototype,`supportsBlankTile`,null),a([t({type:e})],u.prototype,`tileInfo`,void 0),a([t()],u.prototype,`tilemapCache`,void 0),a([i(`service`,`tilemapCache`,[`capabilities`,`tileInfo`])],u.prototype,`readTilemapCache`,null),a([t()],u.prototype,`version`,void 0),u=a([r(`esri.layers.mixins.ArcGISCachedService`)],u),u};export{c as t};