import{Ao as e,Do as t,Eo as n,Oo as r,To as i,go as a,ko as o,vo as s,yo as c}from"./index-ByaFsVj4.js";var l=n=>(...i)=>{let a=t(),o=new n(...i),c=o.exports;e(a.at(-1));let l=o.component.manager;l.W(o,c),o.watchExports(l.W.bind(l,o)),r(o);let d=[o.component,...a].reverse();return s(d,e=>e===void 0?void 0:u(o,e,c),c)},u=(e,{host:t,key:n,isReactive:r},a)=>{let o=t,s=o[n]!==e.exports,c=o[n]!==a,l=a!==e.exports;if(s&&!c&&l&&(o[n]=e.exports),t===e.component){if(r){let t=e.component.manager;c&&t.W(e,o[n]),e.onUpdate(r=>{if(r.has(n)){let r=o[n];r!==e.exports&&t.W(e,r)}})}e.O=r?void 0:n}let u=e.component.constructor.elementProperties.get(n)?.readOnly;e.watchExports(()=>{o[n]!==e.exports&&(u?i(()=>{o[n]=e.exports}):o[n]=e.exports)})},d=(e,t)=>{let n=e;for(;n;){if(n===t)return!0;if(!n.parentNode)return!1;n=n.parentNode instanceof ShadowRoot?n.parentNode.host:n.parentNode}return!1},f=(e,t,n)=>{let r=m(t).subscribe;return r(t=>{t.some(t=>d(e,t.target))&&n()})},p={},m=e=>{let t=e.join(`,`),n=p[t];if(n!==void 0)return n;let r=new Set,i=new MutationObserver(e=>r.forEach(t=>t(e)));globalThis.document&&i.observe(document.documentElement,{attributes:!0,attributeFilter:e,subtree:!0});let a={subscribe:e=>(r.add(e),()=>{r.delete(e),r.size===0&&(i.disconnect(),p[t]=void 0)})};return p[t]=a,a},h=(e,t)=>{let n=e;for(;n;){let e=n.closest?.(t);if(e)return e;let r=n.getRootNode?.();if(r===globalThis.document)return;n=r.host}},g=(e,t,n)=>h(e,`[${t}]`)?.getAttribute(t)??n,_=`ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW`.split(`,`),v=new Set(_),y={pt:`pt-PT`,nb:`no`,nn:`no`,zh:`zh-CN`},b=async(e,t,n=``)=>{let r=`${t}/${n}`,i=`${r}${e}.json`;return x[i]??(x[i]=S(e,r)),await x[i]},x={},S=async(e,t)=>{let n=`${t}${e}.json`;try{let e=await fetch(n);if(e.ok)return await e.json()}catch(e){return console.error(e),{}}return e===`en`?{}:await S(`en`,t)},C=e=>{let t=g(e,`lang`,globalThis.navigator?.language||`en`);return{lang:t,t9nLocale:w(t)}},w=e=>{let[t,n]=e.split(`-`),r=t.toLowerCase(),i=r;return n&&(i=`${r}-${n.toUpperCase()}`),i=y[i]??i,v.has(i)?i:n?w(r):`en`},T=(e,t,n,r)=>{let i,a=()=>E(e,t(),r).then(e=>{(i?.lang!==e.lang||i.t9nLocale!==e.t9nLocale||i.t9nStrings!==e.t9nStrings)&&n(e),i=e}).catch(console.error);return queueMicrotask(a),f(e,[`lang`],a)},E=async(e,t,n=e.localName.split(`-`).slice(1).join(`-`))=>{let{lang:r,t9nLocale:i}=C(e),a=`${t}/${n}/t9n`,o=n===null?{}:await b(i,a,`messages.`);return{lang:r,t9nLocale:i,t9nStrings:o}},D=e=>k(void 0,e),O=e=>t=>k(t,e),k=l(class extends a{constructor(e,t){super(e);let r=this.exports;try{o(this.component);let e=t(this.component,this),i=this.exports!==r;if(n(e)){i||this.setProvisionalExports(e);let t=e.then(e=>{this.exports=e,super.catchUpLifecycle()}).catch(e=>{this.P.reject(e),console.error(e)});this.onLoad(async()=>await t)}else (!i||e!==void 0)&&(this.exports=e),queueMicrotask(()=>super.catchUpLifecycle())}catch(e){this.P.reject(e),console.error(e)}}catchUpLifecycle(){}}),A=(e,t)=>new j(e,t),j=class extends a{#observer;#attributes;#callback;constructor(e,t){super(),this.#attributes=e,this.#callback=t,this.#observer=new MutationObserver(n=>{n.forEach(n=>{e.includes(n.attributeName)&&t.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)})})}hostConnected(){this.#attributes.forEach(e=>{this.component.el.hasAttribute(e)&&this.#callback.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#observer.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#attributes})}hostDisconnected(){this.#observer.disconnect()}},M=e=>(t={})=>D((n,r)=>{let i=C(n.el),a={_lang:i.lang,_t9nLocale:i.t9nLocale,_loading:!0},o=n;r.onLifecycle(()=>T(n.el,()=>e(`./assets`),({t9nLocale:e,t9nStrings:t,lang:i})=>{r.exports={...t,_lang:i,_t9nLocale:e,_loading:!1};let a=t.componentLabel;typeof a==`string`&&`label`in n&&n.label==null&&(n.label??=a),s(o.messageOverrides)},t.name));let s=e=>{let t=r.exports,n=t._original??t,i=N(n,e);e&&(i._original=n),r.exports=i};return`messageOverrides`in o&&r.onUpdate(e=>{e.has(`messageOverrides`)&&s(o.messageOverrides)}),t.blocking?(r.setProvisionalExports(a,!1),r.ready):a}),N=(e,t)=>{if(!t)return e;let n={...e};return Object.entries(t).forEach(([t,r])=>{typeof r==`object`?n[t]=N(e[t],r):n[t]=r??e[t]}),n};export{M as n,A as r,O as t};