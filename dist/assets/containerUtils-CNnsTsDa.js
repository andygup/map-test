import{$p as e,Qp as t,Xp as n,_w as r,wn as i}from"./index-CZ4oMP1N.js";import{A as a,T as o,dt as s,f as c,it as l,nt as u,t as d,ut as f}from"./Dictionary-ByWMrwnf.js";var p={point:[`hasZ`,`hasM`,`spatialReference`,`type`,`x`,`y`,`z`,`m`],multipoint:[`hasZ`,`hasM`,`spatialReference`,`type`,`points`],polyline:[`hasZ`,`hasM`,`spatialReference`,`type`,`paths`],polygon:[`hasZ`,`hasM`,`spatialReference`,`type`,`rings`],extent:[`hasZ`,`hasM`,`spatialReference`,`type`,`xmin`,`xmax`,`ymin`,`ymax`,`zmin`,`zmax`,`mmin`,`mmax`]};function m(e){return p[e.type]}function h(e,t,n,r){let a=v(e,t);if(a===g)throw new i(n,`InvalidMemberAccessKey`,r);return a}var g=Symbol(`keyNotFound`),_=0;function v(e,t){switch(t=t.toLowerCase()){case`hasz`:return e.hasZ??!1;case`hasm`:return e.hasM??!1;case`spatialreference`:{let t=e.spatialReference._arcadeCacheId;t!=null||r.isFrozen(e.spatialReference)||(_++,e.spatialReference._arcadeCacheId=_,t=_);let n=new d({__proto__:null,wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return t!=null&&(n._arcadeCacheId=`SPREF`+t.toString()),n}}switch(e.type){case`extent`:switch(t){case`xmin`:case`xmax`:case`ymin`:case`ymax`:case`zmin`:case`zmax`:case`mmin`:case`mmax`:return e[t]??null;case`type`:return`Extent`}break;case`polygon`:switch(t){case`rings`:{let t=e.cache._arcadeCacheId;return t??(_++,t=_,e.cache._arcadeCacheId=t),new f(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,t)}case`type`:return`Polygon`}break;case`point`:switch(t){case`x`:case`y`:case`z`:case`m`:return e[t]??null;case`type`:return`Point`}break;case`polyline`:switch(t){case`paths`:{let t=e.cache._arcadeCacheId;return t??(_++,t=_,e.cache._arcadeCacheId=t),new f(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,t)}case`type`:return`Polyline`}break;case`multipoint`:switch(t){case`points`:{let t=e.cache._arcadeCacheId;return t??(_++,t=_,e.cache._arcadeCacheId=t),new s(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,t,1)}case`type`:return`Multipoint`}}return g}function y(t,n){let r,i=t;if(i==null)return null;if(e(n))r=n;else if(u(n))r=n.toArray();else{if(n==null)return null;r=[n]}for(let e of r)if(i=x(i,e),i==null)return null;return i}function b(t){return!!l(t)||(e(t)?t.length===0:u(t)?t.length()===0:!!o(t)&&t.isEmpty())}function x(r,i){if(r==null)return null;if(r instanceof d||o(r))return n(i)&&r.hasField(i)?r.field(i):null;if(a(r)){if(!n(i))return null;let e=v(r,i);return e===g?null:e}return e(r)||n(r)?t(i)&&Number.isInteger(i)?(i<0&&(i=r.length+i),i>=r.length||i<0?null:r[i]):null:u(r)?t(i)&&Number.isInteger(i)?(i<0&&(i=r.length()+i),i>=r.length()||i<0?null:r.get(i)):null:c(r)&&n(i)&&r.hasGlobal(i)?r.global(i):null}function S(r,s){if(r==null)throw new i(null,`MemberOfNull`,null);if(r instanceof d||o(r)){if(n(s))return r.field(s);throw new i(null,`InvalidMemberAccessKey`,null)}if(a(r)){if(n(s))return h(r,s,null,null);throw new i(null,`InvalidMemberAccessKey`,null)}if(e(r)||n(r)){if(t(s)&&Number.isInteger(s)){if(s<0&&(s=r.length+s),s>=r.length||s<0)throw new i(null,`OutOfBounds`,null);return r[s]}throw new i(null,`InvalidMemberAccessKey`,null)}if(u(r)){if(t(s)&&Number.isInteger(s)){if(s<0&&(s=r.length()+s),s>=r.length()||s<0)throw new i(null,`OutOfBounds`,null);return r.get(s)}throw new i(null,`InvalidMemberAccessKey`,null)}if(c(r)){if(n(s))return r.global(s);throw new i(null,`InvalidMemberAccessKey`,null)}throw new i(null,`InvalidMemberAccessKey`,null)}export{x as a,m as i,S as n,h as o,y as r,b as t};