import{$a as e,Co as t,_o as n,bo as r,do as i,io as a,oo as o,uo as s,wo as c}from"./index-ByaFsVj4.js";import{t as l}from"./useT9n-BRpF4HW6.js";import{_ as u,g as d}from"./dom-DR7u6Enw.js";import{n as f,t as p}from"./observers-CqKY93PD.js";import{t as m}from"./keyed-Bo3iAr7H.js";import{n as h,t as g}from"./interactive-aQaaPYrF.js";import{n as _,t as v}from"./useSetFocus-ClsE_5Rm.js";import{r as y}from"./floating-ui-BFxAKspu.js";import{r as b,t as x}from"./calcite-action-menu-Cn-MaBtG.js";
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.3.3 */
var S={actionBarContainer:`action-bar-container`,container:`container`,contentBottom:`content-bottom`,contentTop:`content-top`,header:`header`,headerContainer:`header-container`,headerContainerBorderEnd:`header-container--border-end`,headingTextContent:`heading-text-content`,heading:`heading`,description:`description`,headerContent:`header-content`,headerActions:`header-actions`,headerActionsEnd:`header-actions--end`,headerActionsStart:`header-actions--start`,icon:`icon`,contentWrapper:`content-wrapper`,fabContainer:`fab-container`,footer:`footer`,footerContent:`footer-content`,footerActions:`footer-actions`,footerStart:`footer-start`,footerEnd:`footer-end`,headerSlottedContent:`header--slotted-content`,headerNonSlottedContent:`header--non-slotted-content`,menuAction:`menu-action`},C={close:`close`,collapse:`collapse`},w={close:`x`,menu:`ellipsis`,expand:`chevron-down`,collapse:`chevron-up`},T={actionBar:`action-bar`,alerts:`alerts`,contentBottom:`content-bottom`,contentTop:`content-top`,headerActionsStart:`header-actions-start`,headerActionsEnd:`header-actions-end`,headerMenuActions:`header-menu-actions`,headerContent:`header-content`,fab:`fab`,footer:`footer`,footerEnd:`footer-end`,footerStart:`footer-start`,footerActions:`footer-actions`},E=c`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-sharp))}slot[name=alerts]::slotted(calcite-alert){block-size:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=s]) .header-content .icon{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=m]) .header-content .icon{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}:host([scale=l]) .header-content .icon{margin-inline-end:var(--calcite-spacing-lg)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .heading-text-content{flex:1 1 auto;overflow:hidden}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}#close,#collapse,.back-button,calcite-action-menu{--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press)}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header--slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.header-content.header--non-slotted-content{align-items:center;flex-direction:row}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}calcite-icon{--calcite-icon-color: var(--calcite-panel-icon-color, var(--calcite-color-text-1))}:host([hidden]){display:none}[hidden]{display:none}`,D=class extends a{constructor(){super(),this.containerRef=s(),this.resizeObserver=p(`resize`,()=>this.resizeHandler()),this.messages=l(),this._closed=!1,this.focusSetter=v()(this),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.showHeaderContent=!1,this.closable=!1,this.collapseDirection=`down`,this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=y,this.overlayPositioning=`absolute`,this.scale=`m`,this.calcitePanelClose=n({cancelable:!0}),this.calcitePanelCollapse=n({cancelable:!1}),this.calcitePanelExpand=n({cancelable:!1}),this.calcitePanelScroll=n({cancelable:!1}),this.calcitePanelToggle=n({cancelable:!1}),this.listen(`keydown`,this.panelKeyDownHandler),this.listen(`calcitePanelClose`,this.panelCloseHandler)}static{this.properties={hasActionBar:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasEndActions:[16,{},{state:!0}],hasFab:[16,{},{state:!0}],hasFooterActions:[16,{},{state:!0}],hasFooterContent:[16,{},{state:!0}],hasFooterEndContent:[16,{},{state:!0}],hasFooterStartContent:[16,{},{state:!0}],hasHeaderContent:[16,{},{state:!0}],hasMenuItems:[16,{},{state:!0}],hasStartActions:[16,{},{state:!0}],showHeaderContent:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],collapseDirection:1,collapsed:[7,{},{reflect:!0,type:Boolean}],collapsible:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],loading:[7,{},{reflect:!0,type:Boolean}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]}}static{this.styles=E}get closed(){return this._closed}set closed(e){let t=this._closed;e!==t&&this.setClosedState(e)}async scrollContentTo(e){this.panelScrollEl?.scrollTo(e)}async setFocus(e){return this.focusSetter(()=>this.containerRef.value,e)}willUpdate(e){e.has(`collapsed`)&&this.hasUpdated&&(this.collapsed?this.calcitePanelCollapse.emit():this.calcitePanelExpand.emit())}updated(){h(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}async setClosedState(e){if(this.beforeClose&&e)try{await this.beforeClose?.()}catch{return}this._closed=e}resizeHandler(){let{panelScrollEl:e}=this;!e||typeof e.scrollHeight!=`number`||typeof e.offsetHeight!=`number`||(e.scrollHeight>e.offsetHeight?e.setAttribute(`tabindex`,`0`):e.removeAttribute(`tabindex`))}closeClickHandler(){this.emitCloseEvent()}emitCloseEvent(){this.calcitePanelClose.emit()}panelKeyDownHandler(e){this.closable&&e.key===`Escape`&&!e.defaultPrevented&&(this.emitCloseEvent(),e.preventDefault())}panelCloseHandler(e){e.defaultPrevented||e.target!==this.el||(this.closed=!0)}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(e){this.hasStartActions=u(e)}handleHeaderActionsEndSlotChange(e){this.hasEndActions=u(e)}handleHeaderMenuActionsSlotChange(e){this.hasMenuItems=u(e)}handleActionBarSlotChange(e){let t=d(e).filter(e=>e?.matches(`calcite-action-bar`));t.forEach(e=>e.layout=`horizontal`),this.hasActionBar=!!t.length}handleHeaderContentSlotChange(e){this.hasHeaderContent=u(e)}handleFabSlotChange(e){this.hasFab=u(e)}handleFooterActionsSlotChange(e){this.hasFooterActions=u(e)}handleFooterEndSlotChange(e){this.hasFooterEndContent=u(e)}handleFooterStartSlotChange(e){this.hasFooterStartContent=u(e)}handleFooterSlotChange(e){this.hasFooterContent=u(e)}contentBottomSlotChangeHandler(e){this.hasContentBottom=u(e)}contentTopSlotChangeHandler(e){this.hasContentTop=u(e)}setPanelScrollEl(e){f(this.resizeObserver,this.panelScrollEl,e),this.panelScrollEl=e}handleAlertsSlotChange(e){d(e)?.map(e=>{e.nodeName===`CALCITE-ALERT`&&(e.embedded=!0)})}renderHeaderContent(){let{heading:e,headingLevel:n,description:r,hasHeaderContent:i,icon:a,scale:s}=this,c=a?t`<calcite-icon class=${o(S.icon)} .flipRtl=${this.iconFlipRtl} .icon=${a} .scale=${_(s)}></calcite-icon>`:null,l=e?b({class:S.heading,level:n,children:e}):null,u=r?t`<span class=${o(S.description)}>${r}</span>`:null;return!i&&(l||u)?m(`header-content`,t`<div class=${o({[S.headerContent]:!0,[S.headerNonSlottedContent]:!0})}>${c}<div class=${o(S.headingTextContent)}>${l}${u}</div></div>`):null}renderActionBar(){return t`<div class=${o(S.actionBarContainer)} .hidden=${!this.hasActionBar}><slot name=${T.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return m(`slotted-header-content`,t`<div class=${o({[S.headerContent]:!0,[S.headerSlottedContent]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${T.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){let{hasStartActions:e}=this;return m(`header-actions-start`,t`<div class=${o({[S.headerActionsStart]:!0,[S.headerActions]:!0})} .hidden=${!e}><slot name=${T.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){let{hasEndActions:e,messages:n,closable:i,collapsed:a,collapseDirection:s,collapsible:c,hasMenuItems:l}=this,{collapse:u,expand:d,close:f}=n,p=[w.expand,w.collapse];s===`up`&&p.reverse();let h=c?t`<calcite-action .aria=${{expanded:!a}} .icon=${a?p[0]:p[1]} id=${C.collapse} .label=${u} @click=${this.collapse} .scale=${this.scale} .text=${u} title=${(a?d:u)??r}></calcite-action>`:null,g=i?t`<calcite-action .ariaLabel=${f} .icon=${w.close} id=${C.close} @click=${this.closeClickHandler} .scale=${this.scale} .text=${f} title=${f??r}></calcite-action>`:null,_=t`<slot name=${T.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,v=e||h||g||l;return m(`header-actions-end`,t`<div class=${o({[S.headerActionsEnd]:!0,[S.headerActions]:!0})} .hidden=${!v}>${_}${this.renderMenu()}${h}${g}</div>`)}renderMenu(){let{hasMenuItems:e,messages:n,menuOpen:r,menuFlipPlacements:i,menuPlacement:a}=this;return m(`menu`,t`<calcite-action-menu .flipPlacements=${i??[`top`,`bottom`]} .hidden=${!e} .label=${n.options} .open=${r} .overlayPositioning=${this.overlayPositioning} .placement=${a}><calcite-action class=${o(S.menuAction)} .icon=${w.menu} .scale=${this.scale} slot=${x.trigger} .text=${n.options}></calcite-action><slot name=${T.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){let{hasHeaderContent:e,hasStartActions:n,hasEndActions:r,closable:i,collapsible:a,hasMenuItems:s,hasActionBar:c,hasContentTop:l}=this,u=this.renderHeaderContent(),d=e||!!u||n||r||a||i||s||c||l;return this.showHeaderContent=d,t`<header class=${o(S.header)} .hidden=${!(d||c||l)}><div class=${o({[S.headerContainer]:!0,[S.headerContainerBorderEnd]:c})} .hidden=${!d}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${u}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){let{hasFooterEndContent:e,hasFooterStartContent:n,hasFooterContent:r,hasFooterActions:i}=this,a=n||e||r||i;return t`<footer class=${o(S.footer)} .hidden=${!a}><div class=${o(S.footerContent)} .hidden=${!r}><slot name=${T.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${o(S.footerStart)} .hidden=${r||!n}><slot name=${T.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${o(S.footerEnd)} .hidden=${r||!e}><slot name=${T.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${o(S.footerActions)} .hidden=${r||!i}>${m(`footer-actions-slot`,t`<slot name=${T.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return t`<div class=${o(S.contentWrapper)} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${i(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return t`<div class=${o(S.contentBottom)} .hidden=${!this.hasContentBottom}><slot name=${T.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return t`<div class=${o(S.contentTop)} .hidden=${!this.hasContentTop}><slot name=${T.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return t`<div class=${o(S.fabContainer)} .hidden=${!this.hasFab}><slot name=${T.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){let{disabled:e,loading:n,closed:r}=this,a=t`<article .ariaBusy=${n} class=${o(S.container)} .hidden=${r} ${i(this.containerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${m(`alerts`,t`<slot name=${T.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return g({disabled:e,children:t`${n?t`<calcite-scrim .loading=${n}></calcite-scrim>`:null}${a}`})}};e(`calcite-panel`,D);export{T as t};