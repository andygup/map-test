import{BT as e,RS as t,_u as n,gu as r,h as i,hu as a}from"./index-CZ4oMP1N.js";async function o(e,o,s){let l=a(e),u=o.toJSON();o.validationSet&&(u.validationSet=JSON.stringify(o.validationSet));let d={...u,returnEdits:!0,f:`json`},f=n({...l.query,...d}),p=r(f,{...s,method:`post`}),m=`${l.path}/validateNetworkTopology`,{data:h}=await t(m,p);return i.fromJSON(c(h))}async function s(i,o,s){if(!o.gdbVersion)throw new e(`submit-validate-network-topology-job:missing-gdb-version`,`version is missing`);let c=a(i),l=o.toJSON();o.validationSet&&(l.validationSet=JSON.stringify(o.validationSet));let u=r(c.query,{query:n({...l,returnEdits:!0,async:!0,f:`json`}),...s,method:`post`}),d=`${c.path}/validateNetworkTopology`,{data:f}=await t(d,u);return f?f.statusUrl:null}function c(e){return e.serviceEdits&&=e.serviceEdits.map(e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),e={layerId:e.id,editedFeatures:e.editedFeatures})),e}export{c as handleValidateNetworkTopologyResult,s as submitValidateNetworkTopologyJob,o as validateNetworkTopology};