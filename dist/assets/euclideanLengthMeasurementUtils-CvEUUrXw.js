import{AS as e,ES as t,LS as n,PS as r,Rl as i,iS as a,kS as o,oS as s,yS as c,y_ as l,zl as u}from"./index-BN8X5Ryz.js";import{n as d,t as f}from"./spatialReferenceEllipsoidUtils-qw9wv8RL.js";import{t as p}from"./projectVectorToVector-DGzn2p7I.js";import{n as m}from"./quantity-Co6flzuS.js";import{s as h}from"./geodesicUtils-D99LxQ6q.js";function g(e){return h(e)||n(e)}function _(e,t,n,...r){return h(e)?t.apply(void 0,r):e.isWebMercator?n.apply(void 0,r):null}function v(e){return o(e)?t(e)||n(e)||r(e)||c(e)?d:e:f(e)}function y(e){return b(e,1)}function b(e,t){let{hasZ:n,spatialReference:r}=e,i=v(r),a=0,o=s(i);if(o==null)return null;let c=t===0?T:E;for(let t of e.paths){if(t.length<2)continue;let e=t.length-1;for(let i=0;i<e;++i){let e=t[i];k[0]=e[0],k[1]=e[1],k[2]=n?e[2]:0;let o=t[i+1];A[0]=o[0],A[1]=o[1],A[2]=n?o[2]:0;let s=c(k,A,r);if(s==null)return null;a+=s.value}}return m(a,o)}function x(t,n){let{spatialReference:r}=t;return e(r,n.spatialReference)?(k[0]=t.x,k[1]=t.y,k[2]=t.hasZ?t.z:0,A[0]=n.x,A[1]=n.y,A[2]=n.hasZ?n.z:0,E(k,A,r)):null}function S(t,n){let{spatialReference:r}=t;return e(r,n.spatialReference)?(k[0]=t.x,k[1]=t.y,k[2]=t.hasZ?t.z:0,A[0]=n.x,A[1]=n.y,A[2]=n.hasZ?n.z:0,D(k,A,r)):null}function C(e){return e==null?null:w(e.hasZ?e.z:0,e.spatialReference)}function w(e,t){let n=a(t);return n==null?null:m(e??0,n)}function T(e,t,n){let r=O(e,t,n,0);return r==null?null:m(r.direct,r.unit)}function E(e,t,n){let r=O(e,t,n,1);return r==null?null:m(r.horizontal,r.unit)}function D(e,t,n){let r=O(e,t,n,2);return r==null?null:m(r.verticalSigned,r.unit)}function O(e,t,n,r){let a=v(n),o=s(a);if(o==null)return null;let c=t[2]-e[2];if(r===2)return{verticalSigned:c,unit:o};if(!p(e,n,j,a)||!p(t,n,M,a))return null;if(r===0)return{direct:u(M,j),unit:o};if(i(N,e[0],e[1],t[2]),!p(N,n,N,a))return null;let l=u(N,M);return r===1?{horizontal:l,unit:o}:{direct:u(M,j),horizontal:l,vertical:Math.abs(c),unit:o}}var k=l(),A=l(),j=l(),M=l(),N=l();export{x as a,v as c,E as i,g as l,y as n,C as o,D as r,S as s,w as t,_ as u};