import{AS as e,Bu as t,Hl as n,Kx as r,Rl as i,Uu as a,gl as o,ow as s,sw as c,xb as l,y_ as u}from"./index-BN8X5Ryz.js";import{t as d}from"./projectVectorToVector-DGzn2p7I.js";import{a as f,r as p}from"./quantity-Co6flzuS.js";import{a as m,i as h,r as g,t as _}from"./geodesicUtils-D99LxQ6q.js";function v(e,t){if(e==null||t==null)return;let n=y(e,t);return n==null?void 0:p(n,`radians`,`geographic`)}var y=(()=>{let e=u(),t=u();return(n,r)=>(i(e,n.x,n.y,n.z??0),i(t,r.x,r.y,r.z??0),b(e,t,n.spatialReference,r.spatialReference))})(),b=(()=>{let n=a(),i=u(),s=u();return(a,c,u,f)=>{if(o(a,c))return;let p=_(u),h=_(f);if(p&&h&&e(p,h)&&d(a,u,i,p)&&d(c,f,s,h)){let{azimuth:e}=m(k,i,s,p);return e==null?void 0:r(e,`degrees`,`radians`)}n[0]=c[0]-a[0],n[1]=c[1]-a[1];let g=l(t,n);return n[0]<0&&(g=A-g),g}})();function x(e,t,n,r=`absolute`){if(t&&n)switch(r){case`absolute`:return v(t,n);case`relative`:return C(S(e,t,n),`relative`);case`relative-bilateral`:return C(S(e,t,n),`relative-bilateral`)}}function S(e,t,n){if(!e||!t||!n)return;let r=y(e,t),i=y(t,n);return r!=null&&i!=null?p(i-r,`radians`,`geographic`):void 0}function C(e,t){if(e!=null)switch(t){case`absolute`:return w(e);case`relative`:{let t=E(e),n=M.normalize(t,0,!0);return n===-180&&(n=180),p(n,`degrees`,`geographic`)}case`relative-bilateral`:{let t=E(e),n=Math.abs(M.normalize(t,0,!0));return p(n,`degrees`,`geographic`)}}}function w(e){let t=E(e),n=j.normalize(t,0,!0);return p(n,`degrees`,`geographic`)}var T=(()=>{let e=u();return(t,a,o,s,c,l=`geodesic`)=>{n(e,a);let u=E(c);if(l===`geodesic`){let n=_(o);if(n&&d(e,o,e,n))return h(t,e,u,s,n),t[2]=a[2],!!d(t,n,t,o)}let p=f(u,`geographic`,`arithmetic`),m=r(p,`degrees`,`radians`),g=a[0]+s*Math.cos(m),v=a[1]+s*Math.sin(m),y=a[2];return i(t,g,v,y),!0}})();function E(e){if(e!=null)return f(O(e),e.rotationType,`geographic`)}function D(e){if(e!=null)return f(O(e),e.rotationType,`arithmetic`)}function O(e){return r(e.value,e.unit,`degrees`)}var k=new g,A=2*Math.PI,j=s,M=new c(-180,180);export{v as a,b as c,D as i,T as n,C as o,E as r,x as s,w as t};