import{Dx as e,JE as t}from"./index-CzMixifc.js";import"./memoryEstimations-C3WUBUZI.js";import"./OptimizedGeometry-5fDazGe-.js";import{mn as n}from"./Point2D-BslC4Gs9.js";import{t as r}from"./Envelope2D-n2TB2v9l.js";import{at as i}from"./SpatialReference-BzfAMI5E.js";import"./Transformation2D-B6W9saMR.js";import{n as a,t as o}from"./SimpleGeometryCursor-BbFgAuic.js";import"./OperatorDefinitions-DoM9xd5U.js";import{a as s,c,t as l}from"./jsonConverter-CYYMdpyx.js";import"./OperatorSimplifyOGC-DxjvEeiR.js";import"./GeometryCleaner-BEJM7I4l-DmXngI4N.js";import"./OperatorGeneralize-BLGQlbuY.js";import{t as u}from"./Bufferer-Dw9Qi4T1-DhA-VaoB.js";var d=class{getOperatorType(){return 10111}supportsCurves(){return!0}accelerateGeometry(e,t,n){return!1}canAccelerateGeometry(e){return!1}executeMany(e,t,n,r,a,o,s,c,l,u,d){if(l){let l=new f(e,t,n,r,a,o,s,c,d);return new i().executeMany(l,t,d,2)}return new f(e,t,n,r,a,o,s,c,d)}},f=class extends a{constructor(e,t,n,i,a,o,s,c,l){super(),this.m_currentUnionEnvelope2D=new r,this.m_index=-1,this.m_dindex=-1,this.m_progressTracker=l,this.m_bufferer=new u(l),this.m_inputGeoms=e,this.m_spatialReference=t,this.m_distances=n,this.m_maxDeviation=s,this.m_maxVerticesInFullCircle=c,this.m_joins=i,this.m_caps=a,this.m_miterLimit=o}tock(){return!0}getRank(){return 1}next(){{let e;for(;e=this.m_inputGeoms.next();)return n(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.m_dindex+1<this.m_distances.length&&this.m_dindex++,this.buffer(e,this.m_distances[this.m_dindex]);return null}}getGeometryID(){return this.m_index}buffer(e,t){return this.m_bufferer.buffer(e,t,this.m_spatialReference,this.m_joins,this.m_caps,this.m_miterLimit,this.m_maxDeviation,this.m_maxVerticesInFullCircle)}},p=new d;function m(e,t,n,r,i,a,s,c,l){let u=p.executeMany(new o(e),t,n,r,i,a,s,c,l,0,null);return Array.from(u)}var h={round:0,miter:1,bevel:2},g={round:0,butt:1,square:2};function _(n,r,i,a,o={}){let{miterLimit:u=10,maxDeviation:d=NaN,maxVerticesInFullCircle:f=96,union:p=!1,unit:_}=o,[v,y]=c(n);if(_){let t=s(n);t&&(r=r.map(n=>e(n,_,t)),d&&=e(d,_,t))}return m(v,y,r,h[i],g[a],u,d,f,p).map(e=>l(e,y)).filter(t)}export{_ as executeMany};