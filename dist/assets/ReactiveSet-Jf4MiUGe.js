import{RT as e,av as t}from"./index-CZ4oMP1N.js";var n=class{constructor(e){this._observable=new t,this._notifyPending=!1,this._batchDepth=0,this._set=new Set(e)}get size(){return e(this._observable),this._set.size}add(e){let t=this._set.size;return this._set.add(e),this._set.size!==t&&this._notify(),this}batch(e){try{this._batchDepth++,e()}finally{this._batchDepth--,this._notifyPending&&this._batchDepth===0&&(this._notifyPending=!1,this._notify())}}clear(){this._set.size>0&&(this._set.clear(),this._notify())}delete(e){let t=this._set.delete(e);return t&&this._notify(),t}entries(){return e(this._observable),this._set.entries()}forEach(t,n){e(this._observable),this._set.forEach((e,r)=>t.call(n,e,r,this),n)}has(t){return e(this._observable),this._set.has(t)}keys(){return e(this._observable),this._set.keys()}values(){return e(this._observable),this._set.values()}[Symbol.iterator](){return e(this._observable),this._set[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._set[Symbol.toStringTag]}_notify(){this._batchDepth>0?this._notifyPending=!0:this._observable.notify()}};export{n as t};