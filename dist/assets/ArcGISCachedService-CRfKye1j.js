import{DT as e,OT as t,gD as n,jT as r,wx as i,yg as a}from"./index-CZ4oMP1N.js";import{t as o}from"./TileInfoTilemapCache-B4g2sXyM.js";import{t as s}from"./TilemapCache-BW-78K6J.js";var c=c=>{let l=c,u=class extends l{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){this.tilemapCache?.destroy?.()}readMinScale(e,t){return t.minLOD!=null&&t.maxLOD!=null?e:0}readMaxScale(e,t){return t.minLOD!=null&&t.maxLOD!=null?e:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(e,t,n){let r=t.capabilities?.includes(`Tilemap`),{minLOD:i,maxLOD:c,minScale:l,maxScale:u}=t;if(i==null&&c==null&&(l!==0||u!==0)){let e=e=>Math.round(1e4*e)/1e4;l=e(l||t.tileInfo.lods[0].scale),u=e(u||t.tileInfo.lods[t.tileInfo.lods.length-1].scale);for(let n of t.tileInfo.lods){let t=e(n.scale);i=t>=l?n.level:i,c=t>=u?n.level:c}}if(r)return new s({layer:this,minLOD:i,maxLOD:c});if(t.tileInfo){let e=new a;return e.read(t.tileInfo,n),new o(e,i,c)}return null}};return n([e({json:{read:{source:`copyrightText`}}})],u.prototype,`copyright`,void 0),n([e()],u.prototype,`minScale`,void 0),n([r(`service`,`minScale`)],u.prototype,`readMinScale`,null),n([e()],u.prototype,`maxScale`,void 0),n([r(`service`,`maxScale`)],u.prototype,`readMaxScale`,null),n([e({type:i})],u.prototype,`spatialReference`,void 0),n([e({readOnly:!0})],u.prototype,`supportsBlankTile`,null),n([e({type:a})],u.prototype,`tileInfo`,void 0),n([e()],u.prototype,`tilemapCache`,void 0),n([r(`service`,`tilemapCache`,[`capabilities`,`tileInfo`])],u.prototype,`readTilemapCache`,null),n([e()],u.prototype,`version`,void 0),u=n([t(`esri.layers.mixins.ArcGISCachedService`)],u),u};export{c as t};