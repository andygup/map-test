import{Jf as e,Rl as t,Wm as n,h_ as r,y_ as i}from"./index-BN8X5Ryz.js";import{t as a}from"./Uniform-C_fuiTP5.js";import{t as o}from"./Float3DrawUniform-ua6q6ZtZ.js";import{t as s}from"./Float3BindUniform-BDFedz_d.js";import{t as c}from"./FloatBindUniform-CXY5KrrB.js";import{t as l}from"./Matrix4BindUniform-D7U89BGU.js";var u=class extends a{constructor(e,t,n){super(e,`mat4`,2,(r,i,a)=>r.setUniformMatrix4fv(e,t(i,a),n))}};function d(e,n){n.instancedDoublePrecision?e.constants.add(`cameraPosition`,`vec3`,r):e.uniforms.add(new o(`cameraPosition`,(e,n)=>t(m,n.camera.viewInverseTransposeMatrix[3]-e.origin[0],n.camera.viewInverseTransposeMatrix[7]-e.origin[1],n.camera.viewInverseTransposeMatrix[11]-e.origin[2])))}function f(e,r){if(!r.instancedDoublePrecision)return void e.uniforms.add(new l(`proj`,e=>e.camera.projectionMatrix),new u(`view`,(e,t)=>n(p,t.camera.viewMatrix,e.origin)),new o(`localOrigin`,e=>e.origin));let i=({camera:e})=>t(m,e.viewInverseTransposeMatrix[3],e.viewInverseTransposeMatrix[7],e.viewInverseTransposeMatrix[11]);e.uniforms.add(new l(`proj`,e=>e.camera.projectionMatrix),new l(`view`,e=>n(p,e.camera.viewMatrix,i(e))),new s(`localOrigin`,e=>i(e)))}var p=e(),m=i();function h(e){e.uniforms.add(new l(`viewNormal`,e=>e.camera.viewInverseTransposeMatrix))}function g(e){e.uniforms.add(new c(`pixelRatio`,e=>e.camera.pixelRatio/e.overlayStretch))}export{u as a,g as i,f as n,h as r,d as t};