import{$x as e,Ax as t,Cu as n,Ex as r,Lx as i,MS as a,zv as o}from"./index-BN8X5Ryz.js";import{o as s,s as c}from"./geodesicUtils-D99LxQ6q.js";var l=5;function u(e,t){return Math.log(e)/Math.log(t)}function d(e,t,n){let r=e===1?10:e;return r**(n?Math.round(u(50/t,r)):0)}function f(e){let{isGeographic:t,isWebMercator:n}=e;return!t&&!n}function p(l,u,d){let p=typeof l==`number`?null:l,m=d??p?.spatialReference;if(m==null||!a(m)||f(m))return e(m);let h=p?.x??l,g=p?.y??u,_=1/Math.sqrt(2),v=h+_,y=g+_,{isWebMercator:b,isGeographic:x}=m,S=x&&!c(m)?i.WGS84:m;if(b){let e=new r({x:h,y:g,spatialReference:m});t(e,!0,e),h=e.x,g=e.y,e=new r({x:v,y,spatialReference:m}),t(e,!0,e),v=e.x,y=e.y,S=i.WGS84}let C=new o({paths:[[[h,g],[v,y]]],spatialReference:S}),w=n(C,10),T;try{[T]=s([w],`meters`)}catch{return e(m)}return T}export{p as n,l as r,d as t};