const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/visualVariableUtils-C-nBNHVa.js","assets/index-CZ4oMP1N.js","assets/index-CDgdHpAj.css"])))=>i.map(i=>d[i]);
import{BS as e,Up as t,fg as n,pD as r,xd as i}from"./index-CZ4oMP1N.js";import{i as a,n as o,r as s}from"./utils-Cuuurg5i.js";r(`android`),r(`chrome`),n();var c=`esri-relationship-ramp`,l=`${c}--diamond`,u=`${c}--square`;`${l}`,`${l}`,`${l}`,`${l}`,`${l}`,`${l}`,`${u}`,`${u}`,`${u}`,`${u}`,`${u}`,`${u}`,`${u}`,`${u}`;function d(e){return e&&e.opacity!==void 0?e.opacity*(`parent`in e?d(e.parent):1):1}async function f(n,r){if(!n)return;let i=n.sourceLayer,c=(r!=null&&r.useSourceLayer?i:n.layer)??i,l=r?.ignoreOpacity?1:d(c);if(n.symbol!=null&&(r==null||!0!==r.ignoreGraphicSymbol)){let e=n.symbol.type===`web-style`?await n.symbol.fetchSymbol({...r,acceptedFormats:r?.webStyleAcceptedFormats,cache:r?.webStyleCache}):n.symbol.clone();return o(e,null,{add:l}),e}let u=r?.renderer??m(c),f=u&&`getSymbolAsync`in u?await u.getSymbolAsync(n,r):null;if(!f)return;if(f=f.type===`web-style`?await f.fetchSymbol({...r,acceptedFormats:r?.webStyleAcceptedFormats,cache:r?.webStyleCache}):f.clone(),!(u&&`visualVariables`in u&&u.visualVariables?.length&&p(f)))return o(f,null,{add:l}),f;if(`arcadeRequiredForVisualVariables`in u&&u.arcadeRequiredForVisualVariables&&r?.arcade==null){let e={...r};e.arcade=await t(),r=e}let{getColor:h,getOpacity:g,getAllSizes:_,getRotationAngle:v}=await e(async()=>{let{getColor:e,getOpacity:t,getAllSizes:n,getRotationAngle:r}=await import(`./visualVariableUtils-C-nBNHVa.js`);return{getColor:e,getOpacity:t,getAllSizes:n,getRotationAngle:r}},__vite__mapDeps([0,1,2])),y=[],b=[],x=[],S=[];for(let e of u.visualVariables)switch(e.type){case`color`:y.push(e);break;case`opacity`:b.push(e);break;case`rotation`:S.push(e);break;case`size`:e.target||x.push(e)}let C=!!y.length&&y[y.length-1],w=C?h(C,n,r):null,T=!!r?.ignoreOpacity,E=!!b.length&&b[b.length-1],D=E?g(E,n,r):null;if(o(f,w,T?void 0:{override:D,add:l}),x.length&&!0!==r?.ignoreSizeVariables){let e=_(x,n,r);await s(f,e)}if(!0!==r?.ignoreRotationVariables)for(let e of S)a(f,v(e,n,r),e.axis);return f}function p(e){return!i(e)||e.symbolLayers.at(0)?.type!==`water`}function m(e){if(e)return`renderer`in e?e.renderer:void 0}export{f as t};