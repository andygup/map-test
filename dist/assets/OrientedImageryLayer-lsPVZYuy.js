import{AT as e,BT as t,D as n,DT as r,GC as i,Jf as a,OT as o,Oh as s,PT as c,Ri as l,SE as u,WC as d,Zf as f,_w as p,ba as m,g as h,gD as g,gw as _,ud as v,vE as y,wx as b,xa as x,yS as S}from"./index-CZ4oMP1N.js";var ee=Symbol(`isOrientedImageryGraphicOrigin`),C,te=class extends m{get[(C=ee,a)](){return this.layer}get[f](){return this.layer}get[x](){return this.layer}constructor(e){super(),this[C]=!0,this.type=`oriented-imagery`,this.layer=e}get id(){return this.layer.id}},w=class extends p{set horizontalWKID(e){e?S({wkid:+e})?this._set(`horizontalWKID`,+e):this._set(`horizontalWKID`,e):this._set(`horizontalWKID`,null)}set verticalWKID(e){e?this._set(`verticalWKID`,isFinite(e)&&S({wkid:+e})?+e:null):this._set(`verticalWKID`,null)}get isAdvanced(){let{affineTransformations:e,focalLength:t,principalOffsetPoint:n,radialDistortionCoefficients:r,tangentialDistortionCoefficients:i}=this;return e?.length>1&&!Number.isNaN(t)&&n?.length>1&&r?.length>1&&i?.length>1}};g([r({json:{write:!0}})],w.prototype,`affineTransformations`,void 0),g([r({json:{write:!0}})],w.prototype,`focalLength`,void 0),g([r({json:{write:!0}})],w.prototype,`principalOffsetPoint`,void 0),g([r({json:{write:!0}})],w.prototype,`radialDistortionCoefficients`,void 0),g([r({json:{write:!0}})],w.prototype,`tangentialDistortionCoefficients`,void 0),g([r({json:{write:!0}})],w.prototype,`horizontalWKID`,null),g([r({json:{write:!0}})],w.prototype,`verticalWKID`,null),g([r({json:{write:!0}})],w.prototype,`x`,void 0),g([r({json:{write:!0}})],w.prototype,`y`,void 0),g([r({json:{write:!0}})],w.prototype,`z`,void 0),g([r({json:{write:!0}})],w.prototype,`type`,void 0),w=g([o(`esri.layers.orientedImagery.core.CameraOrientation`)],w);var T=w,E=class extends _(d(T)){constructor(){super(...arguments),this.type=1}toString(){let{type:e,horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,heading:o,pitch:s,roll:c,affineTransformations:l,focalLength:u,principalOffsetPoint:d,radialDistortionCoefficients:f,tangentialDistortionCoefficients:p}=this,m=[e,t,n,r,i,a,o,s,c];return this.isAdvanced&&(l?.forEach(e=>m.push(e)),m.push(u),d?.forEach(e=>m.push(e)),f?.forEach(e=>m.push(e)),p?.forEach(e=>m.push(e))),m.map(e=>Number.isNaN(e)?``:e).join(`|`)}};g([r({json:{write:!0}})],E.prototype,`type`,void 0),g([r({type:[Number],json:{write:!0}})],E.prototype,`affineTransformations`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`focalLength`,void 0),g([r({type:[Number],json:{write:!0}})],E.prototype,`principalOffsetPoint`,void 0),g([r({type:[Number],json:{write:!0}})],E.prototype,`radialDistortionCoefficients`,void 0),g([r({type:[Number],json:{write:!0}})],E.prototype,`tangentialDistortionCoefficients`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`heading`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`pitch`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`roll`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`x`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`y`,void 0),g([r({type:Number,json:{write:!0}})],E.prototype,`z`,void 0),E=g([o(`esri.layers.orientedImagery.core.CameraOrientationHPR`)],E);var D=E,O=class extends _(d(T)){constructor(){super(...arguments),this.type=4}toString(){let{type:e,latitude:t,longitude:n,ellipsoidRadius:r,squaredEccentricity:i,properties:a}=this,o=`${a}`.split(`|`);return o.splice(1,1),`${e}|${t}|${n}|${r}|${i}|${o.join(`|`)}`}};g([r({json:{write:!0}})],O.prototype,`type`,void 0),g([r({json:{write:!0},type:Number})],O.prototype,`latitude`,void 0),g([r({json:{write:!0},type:Number})],O.prototype,`longitude`,void 0),g([r({json:{write:!0},type:Number})],O.prototype,`ellipsoidRadius`,void 0),g([r({json:{write:!0},type:Number})],O.prototype,`squaredEccentricity`,void 0),g([r({json:{write:!0}})],O.prototype,`properties`,void 0),O=g([o(`esri.layers.orientedImagery.core.CameraOrientationLTP`)],O);var k=O,A=class extends _(d(T)){constructor(){super(...arguments),this.type=2}toString(){let{type:e,horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,omega:o,phi:s,kappa:c,affineTransformations:l,focalLength:u,principalOffsetPoint:d,radialDistortionCoefficients:f,tangentialDistortionCoefficients:p}=this,m=[e,t,n,r,i,a,o,s,c];return this.isAdvanced&&(l?.forEach(e=>m.push(e)),m.push(u),d?.forEach(e=>m.push(e)),f?.forEach(e=>m.push(e)),p?.forEach(e=>m.push(e))),m.map(e=>isNaN(e)?``:e).join(`|`)}};g([r({json:{write:!0}})],A.prototype,`type`,void 0),g([r({type:[Number],json:{write:!0}})],A.prototype,`affineTransformations`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`focalLength`,void 0),g([r({type:[Number],json:{write:!0}})],A.prototype,`principalOffsetPoint`,void 0),g([r({type:[Number],json:{write:!0}})],A.prototype,`radialDistortionCoefficients`,void 0),g([r({type:[Number],json:{write:!0}})],A.prototype,`tangentialDistortionCoefficients`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`omega`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`phi`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`kappa`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`x`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`y`,void 0),g([r({type:Number,json:{write:!0}})],A.prototype,`z`,void 0),A=g([o(`esri.layers.orientedImagery.core.CameraOrientationOPK`)],A);var j=A,M=class extends _(d(T)){constructor(){super(...arguments),this.type=3}get isAdvanced(){let{affineTransformations:e,focalLength:t,principalOffsetPoint:n,radialDistortionCoefficients:r,tangentialDistortionCoefficients:i}=this;return e?.length>1||!Number.isNaN(t)||n?.length>1||r?.length>1||i?.length>1}toString(){let{type:e,horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,yaw:o,pitch:s,roll:c,affineTransformations:l,focalLength:u,principalOffsetPoint:d,radialDistortionCoefficients:f,tangentialDistortionCoefficients:p}=this,m=[e,t,n,r,i,a,o,s,c];return this.isAdvanced&&(l?.forEach(e=>m.push(e)),m.push(u),d?.forEach(e=>m.push(e)),d?.forEach(e=>m.push(e)),f?.forEach(e=>m.push(e)),p?.forEach(e=>m.push(e))),m.map(e=>Number.isNaN(e)?``:e).join(`|`)}};g([r({json:{write:!0}})],M.prototype,`type`,void 0),g([r({type:[Number],json:{write:!0}})],M.prototype,`affineTransformations`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`focalLength`,void 0),g([r({type:[Number],json:{write:!0}})],M.prototype,`principalOffsetPoint`,void 0),g([r({type:[Number],json:{write:!0}})],M.prototype,`radialDistortionCoefficients`,void 0),g([r({type:[Number],json:{write:!0}})],M.prototype,`tangentialDistortionCoefficients`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`yaw`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`pitch`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`roll`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`x`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`y`,void 0),g([r({type:Number,json:{write:!0}})],M.prototype,`z`,void 0),M=g([o(`esri.layers.orientedImagery.core.CameraOrientationYPR`)],M);var N=M,P=new Map;P.set(`2`,{desc:`Using Omega Phi Kappa`,constructor:j}),P.set(`1`,{desc:`Using Heading, Pitch and Roll`,constructor:D}),P.set(`3`,{desc:`Using Yaw, Pitch and Roll`,constructor:N}),P.set(`4`,{desc:`Using Local Tangent Plane`,constructor:k});var F=class extends _(i){constructor(){super(...arguments),this.url=null}};g([r({type:Number,json:{write:!0}})],F.prototype,`lod`,void 0),g([r({type:String,json:{write:!0}})],F.prototype,`rasterFunction`,void 0),g([r({type:String,json:{write:!0}})],F.prototype,`url`,void 0),F=g([o(`esri.layers.orientedImagery.core.ElevationSourceDefinitions.ElevationSource`)],F);var I=class extends _(i){constructor(){super(...arguments),this.constantElevation=null}};g([r({type:Number,json:{write:!0}})],I.prototype,`constantElevation`,void 0),I=g([o(`esri.layers.orientedImagery.core.ElevationSourceDefinitions.ConstantElevation`)],I);var L=e=>e!=null&&typeof e.constantElevation==`number`;function R(e,t,n){return t&&(e=`${t}${e}`),n&&(e+=`${n}`),e}function z(e,t,n){let{url:r}=e;return r?(r=R(r,t,n),new F({...e,url:r})):null}function ne(e,t,n){return e&&(L(e)?new I(e):z(e,t,n))}var B=new c({Minutes:`minutes`,Hours:`hours`,Days:`days`,Weeks:`weeks`,Months:`months`,Years:`years`}),V=new c({Feet:`feet`,Meter:`meter`}),H=new c({360:`360`,Horizontal:`horizontal`,Inspection:`inspection`,Nadir:`nadir`,Oblique:`oblique`,Terrestrial360Video:`terrestrial-360-video`,TerrestrialFrameVideo:`terrestrial-frame-video`,Aerial360Video:`aerial-360-video`,AerialFrameVideo:`aerial-frame-video`,"":null}),U=new Map;function W(e){let[t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S]=e.slice(1);return{horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,omega:o,phi:s,kappa:c,...K([l,u,d,f,p,m],[g,_],[v,y,b],[x,S],h)}}U.set(`1`,q),U.set(`3`,J),U.set(`2`,W),U.set(`4`,Y);var G=e=>{let t=e.map(e=>parseFloat(e)).filter(e=>!isNaN(e));if(t.length===e.length)return t};function K(e,t,n,r,i){let a=G(e),o=G(t),s=G(n),c=G(r);return{affineTransformations:a?.length===6?a:void 0,focalLength:a?.length===6?parseFloat(i):void 0,principalOffsetPoint:o?.length===2?o:[0,0],radialDistortionCoefficients:s?.length===3?s:[0,0,0],tangentialDistortionCoefficients:c?.length===2?c:[0,0]}}function q(e){let[t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S]=e.slice(1);return{horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,heading:o,pitch:s,roll:c,...K([l,u,d,f,p,m],[g,_],[v,y,b],[x,S],h)}}function J(e){let[t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S]=e.slice(1);return{horizontalWKID:t,verticalWKID:n,x:r,y:i,z:a,yaw:o,pitch:s,roll:c,...K([l,u,d,f,p,m],[g,_],[v,y,b],[x,S],h)}}function Y(e){let[t,n,r,i,a,...o]=e.slice(1),s=U.get(a),c=P.get(a)?.constructor;return!s||!c?null:{latitude:t,longitude:n,ellipsoidRadius:r,squaredEccentricity:i,properties:new c(s([a,``,...o]))}}function X(e){return Array.isArray(e)&&e?.length>5&&!e.some(isNaN)}function re(e){for(e=e.slice(0,8);e.length<8;)e.push(0);return e}var ie=new Set([`demPathPrefix`,`demPathSuffix`,`depthImagePathPrefix`,`depthImagePathSuffix`,`elevationSource`,`horizontalMeasurementUnit`,`imageGeometryField`,`imageReferenceField`,`referenceIDField`,`sequenceOrderField`,`verticalMeasurementUnit`,`videoPathPrefix`,`videoPathSuffix`,`timeAnimation`,`visibilityTimeExtent`]),ae=new Set([`elevationSource`]),Z=(e,t)=>!ie.has(t)&&e,oe=(e,t,n)=>{let r=`orientedImageryProperties.${e}`,i={allowNull:ae.has(e),ignoreOrigin:!0};return{name:r,write:t?{...i,target:r,writer:t}:i,read:n?{ignoreOrigin:!0,source:r,reader:n}:{ignoreOrigin:!0}}};function se(e){return e.json?(e.json.origins=e.json.origins??{},e.json.origins[`web-scene`]={write:!1,read:!1},e):e}function Q(e,t,n,r){let{name:i,write:a,read:o}=oe(e,t,n),s={name:i,write:a,read:o,origins:{service:{name:`orientedImageryInfo.${i}`,write:t,read:n},"web-scene":{name:i,write:Z(a,e),read:Z(o,e)},"web-map":{name:i,write:a,read:o}}};return r&&s.origins?(s.type=r,s.origins[`web-map`].type=r,s.origins[`web-scene`].type=r,s):s}var $=class extends h{constructor(e){super(e),this.attributeTableTemplate=null,this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType=`point`,this.graphicOrigin=new te(this),this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imageGeometryField=`ImageGeometry`,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageReferenceField=`OIObjectID`,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType=`OrientedImageryLayer`,this.orientationAccuracy=null,this.orientedImageryType=null,this.referenceIDField=`OBJECTID`,this.sequenceOrderField=`SequenceOrder`,this.supportedSourceTypes=new Set([`Oriented Imagery Layer`]),this.type=`oriented-imagery`,this.timeIntervalUnit=`days`,this.useViewTime=!0,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null,this.virtualCacheDirectory=null,this.visibilityTimeExtent=null}get effectiveElevationSource(){let{elevationSource:e,demPathPrefix:t,demPathSuffix:n}=this;return ne(e,t,n)}set fieldConfigurations(e){}get fieldConfigurations(){}writePopupTemplate(e,t,n,r){e&&(t[n]=e.toJSON(r))}get portalItem(){return super.portalItem}set portalItem(e){super.portalItem=e}async save(e){return this._debouncedSaveOperations(0,e)}async saveAs(e,t){return this._debouncedSaveOperations(1,t,e)}findFirstValidLayerId(e){return e.layers?.find(e=>this.supportedSourceTypes.has(e.type))?.id}_verifySource(){if(super._verifySource(),this.geometryType!==`point`)throw new t(`oriented-imagery-layer:invalid-geometry-type`,`OrientedImageryLayer only supports point geometry type`)}};g([r({type:l,json:{write:!1,read:!1}})],$.prototype,`attributeTableTemplate`,void 0),g([r({type:Number,json:Q(`cameraHeading`)})],$.prototype,`cameraHeading`,void 0),g([r({type:Number,json:Q(`cameraHeight`)})],$.prototype,`cameraHeight`,void 0),g([r({type:Number,json:Q(`cameraPitch`)})],$.prototype,`cameraPitch`,void 0),g([r({type:Number,json:Q(`cameraRoll`)})],$.prototype,`cameraRoll`,void 0),g([r({type:Number,json:Q(`coveragePercent`)})],$.prototype,`coveragePercent`,void 0),g([r({type:String,json:Q(`demPathPrefix`)})],$.prototype,`demPathPrefix`,void 0),g([r({type:String,json:Q(`demPathSuffix`)})],$.prototype,`demPathSuffix`,void 0),g([r({type:String,json:Q(`depthImagePathPrefix`)})],$.prototype,`depthImagePathPrefix`,void 0),g([r({type:String,json:Q(`depthImagePathSuffix`)})],$.prototype,`depthImagePathSuffix`,void 0),g([r({type:Object,json:Q(`elevationSource`)})],$.prototype,`elevationSource`,void 0),g([r({readOnly:!0})],$.prototype,`effectiveElevationSource`,null),g([r({type:Number,json:Q(`farDistance`)})],$.prototype,`farDistance`,void 0),g([r({json:{write:!1}})],$.prototype,`fieldConfigurations`,null),g([r({type:[v]})],$.prototype,`fields`,void 0),g([r()],$.prototype,`geometryType`,void 0),g([r({readOnly:!0,clonable:!1})],$.prototype,`graphicOrigin`,void 0),g([r({type:Number,json:Q(`horizontalFieldOfView`)})],$.prototype,`horizontalFieldOfView`,void 0),g([r({type:String,json:Q(`horizontalMeasurementUnit`)})],$.prototype,`horizontalMeasurementUnit`,void 0),g([r({type:String,json:{...Q(`imageGeometryField`),default:`ImageGeometry`}})],$.prototype,`imageGeometryField`,void 0),g([r({type:String,json:Q(`imagePathPrefix`)})],$.prototype,`imagePathPrefix`,void 0),g([r({type:String,json:Q(`imagePathSuffix`)})],$.prototype,`imagePathSuffix`,void 0),g([r({type:String,json:{...Q(`imageReferenceField`),default:`OIObjectID`}})],$.prototype,`imageReferenceField`,void 0),g([r({type:Number,json:Q(`imageRotation`)})],$.prototype,`imageRotation`,void 0),g([r({type:Number,json:Q(`maximumDistance`)})],$.prototype,`maximumDistance`,void 0),g([r({type:Number,json:Q(`nearDistance`)})],$.prototype,`nearDistance`,void 0),g([r({type:[`OrientedImageryLayer`],json:{origins:{"portal-item":{name:`layerType`,write:{enabled:!0,ignoreOrigin:!0}}}}})],$.prototype,`operationalLayerType`,void 0),g([r({json:{...Q(`orientationAccuracy`,(e,t,n)=>{y(n,e.join(`;`),t)},e=>{let t=e?.split(`;`)?.map(Number);return X(t)?re(t):[0,0,0,0,0,0,0,0]},String)}})],$.prototype,`orientationAccuracy`,void 0),g([r({json:{...Q(`orientedImageryType`,H.write,H.read,H.jsonValues.slice(1))}})],$.prototype,`orientedImageryType`,void 0),g([e(`popupTemplate`)],$.prototype,`writePopupTemplate`,null),g([r({type:String,json:{...Q(`referenceIDField`),default:`OBJECTID`}})],$.prototype,`referenceIDField`,void 0),g([r({type:String,json:{...Q(`sequenceOrderField`),default:`SequenceOrder`}})],$.prototype,`sequenceOrderField`,void 0),g([r({type:b})],$.prototype,`spatialReference`,void 0),g([r({json:{read:!1},value:`oriented-imagery`,readOnly:!0})],$.prototype,`type`,void 0),g([r({type:B.apiValues,json:{...Q(`timeIntervalUnit`,B.write,B.read,B.jsonValues)}})],$.prototype,`timeIntervalUnit`,void 0),g([r(se(u(n)))],$.prototype,`useViewTime`,void 0),g([r({type:Number,json:Q(`verticalFieldOfView`)})],$.prototype,`verticalFieldOfView`,void 0),g([r({type:V.apiValues,json:{...Q(`verticalMeasurementUnit`,V.write,V.read,V.jsonValues)}})],$.prototype,`verticalMeasurementUnit`,void 0),g([r({type:String,json:Q(`videoPathPrefix`)})],$.prototype,`videoPathPrefix`,void 0),g([r({type:String,json:Q(`videoPathSuffix`)})],$.prototype,`videoPathSuffix`,void 0),g([r({type:String,json:{read:!1,write:!1,origins:{service:{name:`orientedImageryInfo.orientedImageryProperties.virtualCacheDirectory`,read:!0}}}})],$.prototype,`virtualCacheDirectory`,void 0),g([r({type:s,json:{origins:{"web-scene":{write:!1,read:!1}}}})],$.prototype,`visibilityTimeExtent`,void 0),$=g([o(`esri.layers.OrientedImageryLayer`)],$);var ce=$;export{ce as default};