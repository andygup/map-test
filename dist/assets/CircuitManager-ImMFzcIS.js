const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/createCircuit-dZtXRwWm.js","assets/index-ByaFsVj4.js","assets/index-DiFef-Um.css","assets/quatf64-eO7UAs9K.js","assets/quat-sUyQdiZR.js","assets/MeshTransform-DDT-1d0m.js","assets/axisAngleDegrees-jawZYrHR.js","assets/applyEditsUtils-C7KND21k.js","assets/editingSupport-C4cREoG_.js","assets/EditCircuitsResult-BvMYwL0r.js","assets/utils-iYvfDTgE.js","assets/CreateAlterCircuitParameters-BCS-MsZQ.js","assets/alterCircuit-DrN3nT-x.js","assets/deleteCircuits-CVmDQj28.js","assets/DeleteCircuitsParameters-BSqM1vpF.js","assets/exportCircuits-ksBI4lkp.js","assets/ExportCircuitsParameters-BHHAf_JK.js","assets/verifyCircuits-BFTRRqwt.js","assets/VerifyCircuitsParameters-D8H1CL4f.js","assets/queryCircuits-CyWnMN0D.js","assets/QueryCircuitsParameters-CDTNbYEe.js"])))=>i.map(i=>d[i]);
import{$i as e,BS as t,BT as n,DT as r,GC as i,Ji as a,OT as o,Xi as s,Zi as c,g as l,gD as u,nv as d,r as f,t as p}from"./index-ByaFsVj4.js";var m=class extends i{constructor(e){super(e),this._circuitTable=null,this._circuitSectionTable=null,this._subcircuitTable=null,this.telecomDomainNetwork=null,this.utilityNetwork=null}initialize(){this.addHandles([d(()=>[this.gdbVersion,this.historicMoment],()=>{this._setLayerVersionAndMoment(this._circuitTable),this._setLayerVersionAndMoment(this._circuitSectionTable),this._setLayerVersionAndMoment(this._subcircuitTable)})])}get _circuitTableUrl(){if(this.telecomDomainNetwork==null)return null;let e=this.telecomDomainNetwork.circuitSources?.find(e=>e.utilityNetworkFeatureClassUsageType===`esriUNFCUTCircuit`)?.layerId??null;return e==null?null:`${this.featureServiceUrl}/${e}`}get _circuitSectionTableUrl(){if(this.telecomDomainNetwork==null)return null;let e=this.telecomDomainNetwork.circuitSources?.find(e=>e.utilityNetworkFeatureClassUsageType===`esriUNFCUTCircuitSection`)?.layerId??null;return e==null?null:`${this.featureServiceUrl}/${e}`}get _subcircuitTableUrl(){if(this.telecomDomainNetwork==null)return null;let e=this.telecomDomainNetwork.circuitSources?.find(e=>e.utilityNetworkFeatureClassUsageType===`esriUNFCUTSubcircuit`)?.layerId??null;return e==null?null:`${this.featureServiceUrl}/${e}`}get networkServiceUrl(){return this.utilityNetwork?.networkServiceUrl??null}get featureServiceUrl(){return this.utilityNetwork?.featureServiceUrl??null}get gdbVersion(){return this.utilityNetwork?.gdbVersion??null}get historicMoment(){return this.utilityNetwork?.historicMoment??null}get telecomDomainNetworkName(){return this.telecomDomainNetwork?.domainNetworkName??null}get circuitTable(){if(this._circuitTable!=null)return this._circuitTable;if(this._circuitTableUrl==null)throw new n(`circuit-manager:missing-circuit-table-url`,"Unable to load the circuit table; cannot get layer url from `telecomDomainNetwork.","Ensure `telecomDomainNetwork` was provided to the circuit manager.");return this._circuitTable=new l({url:this._circuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitTable}get circuitSectionTable(){if(this._circuitSectionTable!=null)return this._circuitSectionTable;if(this._circuitSectionTableUrl==null)throw new n(`circuit-manager:missing-circuit-section-table-url`,"Unable to load the circuit section table; cannot get layer url from `telecomDomainNetwork.","Ensure `telecomDomainNetwork` was provided to the circuit manager.");return this._circuitSectionTable=new l({url:this._circuitSectionTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._circuitSectionTable}get subcircuitTable(){if(this._subcircuitTable!=null)return this._subcircuitTable;if(this._subcircuitTableUrl==null)throw new n(`circuit-manager:missing-subcircuit-table-url`,"Unable to load the subcircuit table; cannot get layer url from `telecomDomainNetwork.","Ensure `telecomDomainNetwork` was provided to the circuit manager.");return this._subcircuitTable=new l({url:this._subcircuitTableUrl,gdbVersion:this.gdbVersion,historicMoment:this.historicMoment}),this._subcircuitTable}async loadCircuitTable(){return this.circuitTable.load()}async loadCircuitSectionTable(){return this.circuitSectionTable.load()}async loadSubcircuitTable(){return this.subcircuitTable.load()}getCircuit(e,t=!1){return new f({circuitManager:this,name:e,sections:t?new Map:null})}async create(n){let[{createCircuit:r},{default:i}]=await Promise.all([t(()=>import(`./createCircuit-dZtXRwWm.js`),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10])),t(()=>import(`./CreateAlterCircuitParameters-BCS-MsZQ.js`),__vite__mapDeps([11,1,2]))]),o=i.from({circuit:n,domainNetworkName:this.telecomDomainNetworkName});s(this.featureServiceUrl,this.gdbVersion||null)?(o.sessionId=e,await c(this.featureServiceUrl,this.gdbVersion,!0)):o.sessionId=null,o.gdbVersion=this.gdbVersion;let l=a(this.featureServiceUrl,null,this.gdbVersion,!1),u=await r(this.networkServiceUrl,o);n.circuitManager=this,l.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:u.exceededTransferLimit,historicMoment:u.moment,editedFeatures:u.serviceEdits||void 0})}async alter(r){if(r.globalId==null)throw new n(`circuit-manager:alter-without-globalid`,`A circuit being altered must have a globalId`,`To ensure the circuit has a globalId, query the circuit first`);let[{alterCircuit:i},{default:o}]=await Promise.all([t(()=>import(`./alterCircuit-DrN3nT-x.js`),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,10])),t(()=>import(`./CreateAlterCircuitParameters-BCS-MsZQ.js`),__vite__mapDeps([11,1,2]))]),l=o.from({circuit:r,domainNetworkName:this.telecomDomainNetworkName});s(this.featureServiceUrl,this.gdbVersion||null)?(l.sessionId=e,await c(this.featureServiceUrl,this.gdbVersion,!0)):l.sessionId=null,l.gdbVersion=this.gdbVersion;let u=a(this.featureServiceUrl,null,this.gdbVersion,!1),d=await i(this.networkServiceUrl,l);r.circuitManager=this,u.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:d.exceededTransferLimit,historicMoment:d.moment,editedFeatures:d.serviceEdits||void 0})}async delete(n){let[{deleteCircuits:r},{default:i}]=await Promise.all([t(()=>import(`./deleteCircuits-CVmDQj28.js`),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10])),t(()=>import(`./DeleteCircuitsParameters-BSqM1vpF.js`),__vite__mapDeps([14,1,2]))]),o=i.from({circuits:n,domainNetworkName:this.telecomDomainNetworkName});s(this.featureServiceUrl,this.gdbVersion||null)?(o.sessionId=e,await c(this.featureServiceUrl,this.gdbVersion,!0)):o.sessionId=null,o.gdbVersion=this.gdbVersion;let l=a(this.featureServiceUrl,null,this.gdbVersion,!1),u=await r(this.networkServiceUrl,o);l.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:u.exceededTransferLimit,historicMoment:u.moment,editedFeatures:u.serviceEdits||void 0})}async export(n){let[{exportCircuits:r},{default:i}]=await Promise.all([t(()=>import(`./exportCircuits-ksBI4lkp.js`),__vite__mapDeps([15,1,2,3,4,5,6,7,8,10])),t(()=>import(`./ExportCircuitsParameters-BHHAf_JK.js`),__vite__mapDeps([16,1,2]))]),o=i.from(n);s(this.featureServiceUrl,this.gdbVersion||null)?(o.sessionId=e,await c(this.featureServiceUrl,this.gdbVersion,!0)):o.sessionId=null,o.domainNetworkName=this.telecomDomainNetworkName,o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment;let l=a(this.featureServiceUrl,null,this.gdbVersion,!1),u=await r(this.networkServiceUrl,o);return l.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:u.exceededTransferLimit,historicMoment:u.moment,editedFeatures:u.serviceEdits||void 0}),u.circuits}async verify(n,r=!1){let[{verifyCircuits:i},{default:o}]=await Promise.all([t(()=>import(`./verifyCircuits-BFTRRqwt.js`),__vite__mapDeps([17,1,2,3,4,5,6,7,8,10])),t(()=>import(`./VerifyCircuitsParameters-D8H1CL4f.js`),__vite__mapDeps([18,1,2]))]),l=o.from({circuits:n,synthesizeGeometries:r,domainNetworkName:this.telecomDomainNetworkName});s(this.featureServiceUrl,this.gdbVersion||null)?(l.sessionId=e,await c(this.featureServiceUrl,this.gdbVersion,!0)):l.sessionId=null,l.gdbVersion=this.gdbVersion;let u=a(this.featureServiceUrl,null,this.gdbVersion,!1),d=await i(this.networkServiceUrl,l);return u.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:d.exceededTransferLimit,historicMoment:d.moment,editedFeatures:d.serviceEdits||void 0}),d.circuits}async queryCircuits(n){let[{queryCircuits:r},{default:i}]=await Promise.all([t(()=>import(`./queryCircuits-CyWnMN0D.js`),__vite__mapDeps([19,1,2])),t(()=>import(`./QueryCircuitsParameters-CDTNbYEe.js`),__vite__mapDeps([20,1,2]))]),a=Array.isArray(n)?{circuits:n}:n,o=i.from(a);s(this.featureServiceUrl,this.gdbVersion||null)?o.sessionId=e:o.sessionId=null,o.domainNetworkName=this.telecomDomainNetworkName,o.resultTypes=[`circuit`],o.gdbVersion=this.gdbVersion,o.moment=this.historicMoment;let c=await r(this.networkServiceUrl,o);return c.circuits?.forEach(e=>e.circuitManager=this),c.circuits||[]}async queryCircuitNames(n){let[{queryCircuits:r},{default:i}]=await Promise.all([t(()=>import(`./queryCircuits-CyWnMN0D.js`),__vite__mapDeps([19,1,2])),t(()=>import(`./QueryCircuitsParameters-CDTNbYEe.js`),__vite__mapDeps([20,1,2]))]),a=i.from(n);return s(this.featureServiceUrl,this.gdbVersion||null)?a.sessionId=e:a.sessionId=null,a.domainNetworkName=this.telecomDomainNetworkName,a.resultTypes=[`name`],a.gdbVersion=this.gdbVersion,a.moment=this.historicMoment,(await r(this.networkServiceUrl,a)).circuitNames||[]}_setLayerVersionAndMoment(e){e!=null&&(e.gdbVersion!==this.gdbVersion&&(e.gdbVersion=this.gdbVersion),e.historicMoment!==this.historicMoment&&(e.historicMoment=this.historicMoment))}};u([r()],m.prototype,`_circuitTable`,void 0),u([r()],m.prototype,`_circuitSectionTable`,void 0),u([r()],m.prototype,`_subcircuitTable`,void 0),u([r({constructOnly:!0})],m.prototype,`telecomDomainNetwork`,void 0),u([r({type:p,constructOnly:!0})],m.prototype,`utilityNetwork`,void 0),u([r()],m.prototype,`networkServiceUrl`,null),u([r()],m.prototype,`featureServiceUrl`,null),u([r()],m.prototype,`gdbVersion`,null),u([r()],m.prototype,`historicMoment`,null),u([r()],m.prototype,`telecomDomainNetworkName`,null),u([r()],m.prototype,`circuitTable`,null),u([r()],m.prototype,`circuitSectionTable`,null),u([r()],m.prototype,`subcircuitTable`,null),m=u([o(`esri.networks.CircuitManager`)],m);var h=m;export{h as default};