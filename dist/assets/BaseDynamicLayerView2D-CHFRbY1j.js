import{BT as e,CE as t,VT as n,kD as r,oT as i}from"./index-BN8X5Ryz.js";import"./memoryEstimations-D_IbKyOk.js";import"./OptimizedGeometry-BQJ7w5VU.js";import"./OptimizedFeatureSet-CLjmRHYn.js";import"./featureConversionUtils-o9-cJXzl.js";import"./earcut-CEMcWA4Z.js";import"./layerViewUtils-CJcMVuwG.js";import"./VertexAttributeLocations-BScEla0R.js";import"./VertexElementDescriptor-Cl_nC_ty.js";import"./BoundingBox-Dtf81F-g.js";import"./config-Dk3C6lVr.js";import"./WGLContainer-jm6ZclzQ.js";import"./utils-B0heZPZY.js";import"./ProgramTemplate-B9k_04Md.js";import"./VertexArrayObject-ChtD6bwg.js";import"./BufferObject-B3_aJU6V.js";import"./VertexBuffer-Ra4pb4dR.js";import"./vec3f32-DDMWoxUL.js";import"./Container-uEjPEzbR.js";import"./GraphShaderModule-AgkKIWM0.js";import"./FramebufferObject-BoYk_2uK.js";import"./ShaderBuilder-BLOqjpgt.js";import"./bitmapUtils-53gkfkJ0.js";import"./Bitmap-BoQaGe8r.js";import{t as a}from"./BitmapContainer-C6h9gf6w.js";import{t as o}from"./LayerView2D-Bgb1zyoa.js";import{t as s}from"./ExportStrategy-DZKCAuVC.js";import{t as c}from"./LayerView-DQaVI2FN.js";import{t as l}from"./RefreshableLayerView-DdPullJP.js";var u=class extends l(o(c)){update(e){this._strategy.update(e).catch(e=>{i(e)||t.getLogger(this).error(e)}),this.notifyChange(`updating`)}attach(){this._bitmapContainer=new a,this.container.addChild(this._bitmapContainer),this._strategy=new s({container:this._bitmapContainer,fetchSource:this.fetchBitmapData.bind(this),requestUpdate:this.requestUpdate.bind(this)})}detach(){this._strategy.destroy(),this._strategy=null,this.container.removeChild(this._bitmapContainer),this._bitmapContainer.removeAllChildren()}viewChange(){}moveEnd(){this.requestUpdate()}fetchBitmapData(e,t,n){return this.layer.fetchImageBitmap(e,t,n)}async doRefresh(){this.requestUpdate()}isUpdating(){return this._strategy.updating||this.updateRequested}};r([e()],u.prototype,`_strategy`,void 0),u=r([n(`esri.views.2d.layers.BaseDynamicLayerView2D`)],u);var d=u;export{d as default};