import{$p as e,Qp as t,Xp as n,_w as r,wn as i}from"./index-ByaFsVj4.js";import{k as a,lt as o,rt as s,t as c,tt as l,ut as u,w as d}from"./Dictionary-CX-Dz5lT.js";var f={point:[`hasZ`,`hasM`,`spatialReference`,`type`,`x`,`y`,`z`,`m`],multipoint:[`hasZ`,`hasM`,`spatialReference`,`type`,`points`],polyline:[`hasZ`,`hasM`,`spatialReference`,`type`,`paths`],polygon:[`hasZ`,`hasM`,`spatialReference`,`type`,`rings`],extent:[`hasZ`,`hasM`,`spatialReference`,`type`,`xmin`,`xmax`,`ymin`,`ymax`,`zmin`,`zmax`,`mmin`,`mmax`]};function p(e){return f[e.type]}var m=0;function h(e,t,n,a,s=1){let l;switch(t=t.toLowerCase()){case`hasz`:{let t=e.hasZ;return t!==void 0&&t}case`hasm`:{let t=e.hasM;return t!==void 0&&t}case`spatialreference`:{let t=e.spatialReference._arcadeCacheId;if(t===void 0){let n=!0;r.isFrozen(e.spatialReference)&&(n=!1),n&&(m++,e.spatialReference._arcadeCacheId=m,t=m)}let n=new c({__proto__:null,wkt:e.spatialReference.wkt,wkid:e.spatialReference.wkid});return t!==void 0&&(n._arcadeCacheId=`SPREF`+t.toString()),n}}switch(e.type){case`extent`:switch(t){case`xmin`:case`xmax`:case`ymin`:case`ymax`:case`zmin`:case`zmax`:case`mmin`:case`mmax`:{let n=e[t];return n===void 0?null:n}case`type`:return`Extent`}break;case`polygon`:switch(t){case`rings`:return l=e.cache._arcadeCacheId,l===void 0&&(m++,l=m,e.cache._arcadeCacheId=l),new o(e.rings,e.spatialReference,!0===e.hasZ,!0===e.hasM,l);case`type`:return`Polygon`}break;case`point`:switch(t){case`x`:case`y`:case`z`:case`m`:return e[t]??null;case`type`:return`Point`}break;case`polyline`:switch(t){case`paths`:return l=e.cache._arcadeCacheId,l===void 0&&(m++,l=m,e.cache._arcadeCacheId=l),new o(e.paths,e.spatialReference,!0===e.hasZ,!0===e.hasM,l);case`type`:return`Polyline`}break;case`multipoint`:switch(t){case`points`:return l=e.cache._arcadeCacheId,l===void 0&&(m++,l=m,e.cache._arcadeCacheId=l),new u(e.points,e.spatialReference,!0===e.hasZ,!0===e.hasM,l,1);case`type`:return`Multipoint`}}if(s===1)throw new i(n,`InvalidIdentifier`,a);return s===2?{keystate:`notfound`}:null}function g(r,i){let o,s=r;if(s==null)return null;if(e(i))o=i;else if(l(i))o=i.toArray();else{if(i==null)return null;o=[i]}for(let r of o){if(d(s)){if(!1===n(r)||!s.hasField(r))return null;s=s.field(r)}else if(a(s)){if(!1===n(r))return null;s=h(s,r,null,null,0)}else if(e(s)){if(!1===t(r))return null;s=r>=0?s[r]:s[s.length+r]}else{if(!l(s)||!1===t(r))return null;s=r>=0?s.get(r):s.get(s.length()+r)}if(s==null)return null}return s}function _(t){return!!s(t)||(e(t)?t.length===0:l(t)?t.length()===0:!!d(t)&&t.isEmpty())}export{g as i,p as n,_ as r,h as t};