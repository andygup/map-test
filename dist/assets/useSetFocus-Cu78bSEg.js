import{t as e}from"./controllers-D0o5KNzP.js";import{n as t,o as n}from"./dom-DR7u6Enw.js";function r(e){return e===`l`?`m`:`s`}async function i(e){await e.componentOnReady(),await e.updateComplete}var a=()=>e((e,r)=>{let a;function o(){a?.abort()}return r.onLoad(()=>{e.listen(`focus`,()=>{a=new AbortController,e.el.addEventListener(`focusout`,o,{signal:a.signal})})}),r.onDisconnected(()=>{e.el.removeEventListener(`focusout`,o)}),async(r,c)=>{if(e.disabled)return;let l=s(r());if(!l)return;let{target:u,includeContainer:d,strategy:f}=l,p=n(e.el),m=p.activeElement;if(await i(e),!(m!==p.activeElement||a&&!a?.signal.aborted))return e.el.removeEventListener(`focus`,o),t(u,d,f,e.el,c)}});function o(e){return`target`in e&&(`includeContainer`in e||`strategy`in e)}function s(e){if(e)return o(e)?e:{target:e}}export{r as n,a as t};