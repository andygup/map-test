import{Bx as e,Ov as t,_x as n,pu as r,px as i,wx as a,yS as o}from"./index-CzMixifc.js";import{o as s,s as c}from"./geodesicUtils-DoIAZh7n.js";var l=5;function u(e,t){return Math.log(e)/Math.log(t)}function d(e,t,n){let r=e===1?10:e;return r**(n?Math.round(u(50/t,r)):0)}function f(e){let{isGeographic:t,isWebMercator:n}=e;return!t&&!n}function p(l,u,d){let p=typeof l==`number`?null:l,m=d??p?.spatialReference;if(m==null||!o(m)||f(m))return e(m);let h=p?.x??l,g=p?.y??u,_=1/Math.sqrt(2),v=h+_,y=g+_,{isWebMercator:b,isGeographic:x}=m,S=x&&!c(m)?a.WGS84:m;if(b){let e=new i({x:h,y:g,spatialReference:m});n(e,!0,e),h=e.x,g=e.y,e=new i({x:v,y,spatialReference:m}),n(e,!0,e),v=e.x,y=e.y,S=a.WGS84}let C=new t({paths:[[[h,g],[v,y]]],spatialReference:S}),w=r(C,10),T;try{[T]=s([w],`meters`)}catch{return e(m)}return T}export{p as n,l as r,d as t};